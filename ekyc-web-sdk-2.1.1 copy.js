/*! For license information please see VNPT_EKYC_SDK.LICENSE.txt */
var ekycsdk=function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){e.exports=i(8)},function(e,t,i){var n={"./en.json":2,"./locales.json":3,"./vi.json":4};function o(e){var t=c(e);return i(t)}function c(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=c,e.exports=o,o.id=1},function(e){e.exports=JSON.parse('{"home":{"title":"SELECT IDENTIFICATION DOCUMENT","cmt":"ID card, Citizen Identity card","passpost":"Passport","cmt_army":"Military ID card","license":"Driver\'s license","cmt_chip":"Chip identification card","start":"START"},"face":{"portrait":"Portrait","please":"Please","des_1":"Move the face to fit the restricted area","take_photo":"Take photo","take_again":"capture","next":"Next","guide":"Guideline","guide_1":"Guideline for verifying document owner\'s face","guide_2":"Move the face to fit the restricted area","guide_3":"Keep your face steady when taking a photo","guide_4":"Avoid other people appearing in the camera while taking photos","touch":"Touch to take a photo","guide_5":"Keep document within the rectangular frame,","guide_6":"capture enough lighting and clarity","guide_7":"Move the face to fit","guide_8":"the restricted area"},"front":{"qr":"QR code","front":"Front","back":"Back","result":"Result","guide_1":"Guideline for capturing your documents","guide_2":"Bring your document to the camera so that its four corners match with the restricted area","guide_3":"Capture information on document clearly and completely ","guide_4":"Place document within the rectangular frame, capture enough lighting and clarity","guide_5":"Select Retake if the image is blurry, not in focus","guide_6":"Select Next to go to the next step","upload_image":"Upload image","qr_des":"Please put the QR code in the center of the camera"},"notice":{"notice_1":"Don\'t shoot too blurry","notice_2":"Don\'t take the shot off the angle","notice_3":"Do not take a blowout picture"},"choose_version_qr":{"choose_version":"CHOOSE VERSION","version_for_you":"Choose the version you want to experience","standard_version":"Standard version","use_qrcode":"The version uses QR Code to extract CCCD information","is_qrcode_scan":"Scan the QR Code"}}')},function(e){e.exports=JSON.parse('{"vi":{"title":"Tiêu đề"}}')},function(e){e.exports=JSON.parse('{"home":{"title":"CHỌN LOẠI GIẤY TỜ","cmt":"Chứng minh thư, Thẻ căn cước","passpost":"Hộ chiếu","cmt_army":"Chứng minh thư quân đội","license":"Bằng lái xe","cmt_chip":"Thẻ căn cước gắn chíp","start":"BẮT ĐẦU"},"face":{"portrait":"Chân dung","please":"Xin vui lòng","des_1":"Di chuyển khuôn mặt sao cho vừa với vùng giới hạn","take_photo":"Chụp ảnh","take_again":"Chụp lại","upload_photo":"Tải ảnh","next":"Tiếp theo","guide":"Hướng dẫn","guide_1":"Hướng dẫn Chụp ảnh Chân dung","guide_2":"Di chuyển khuôn mặt sao cho vừa với vùng giới hạn","guide_3":"Giữ nguyên khuôn mặt khi chụp ảnh","guide_4":"Hạn chế có người khác trong camera khi chụp","touch":"Chạm để chụp ảnh","guide_5":"Đặt giấy tờ nằm vừa khung hình chữ nhật,","guide_6":"chụp đủ ánh sáng và rõ nét","guide_7":"Di chuyển khuôn mặt sao cho vừa","guide_8":"với vùng giới hạn"},"front":{"qr":"QR code","front":"Mặt trước","back":"Mặt sau","result":"Kết quả","guide_1":"Hướng dẫn Chụp ảnh giấy tờ cầm tay","guide_2":"Đưa giấy tờ vào gần camera sao cho 4 góc của giấy tờ trùng với vùng giới hạn","guide_3":"Chụp rõ nét và đầy đủ thông tin trên giấy tờ","guide_4":"Đặt giấy tờ nằm vừa khung hình chữ nhật, chụp đủ ánh sáng và rõ nét","guide_5":"Chọn Chụp lại nếu ảnh mờ, không rõ nét","guide_6":"Chọn Tiếp theo để sang bước tiếp theo","upload_image":"Tải ảnh lên","qr_des":"Xin vui lòng đưa mã QR code vào trung tâm của camera"},"notice":{"notice_1":"Không chụp quá mờ","notice_2":"Không chụp mất góc","notice_3":"Không chụp lóa sáng"},"choose_version_qr":{"choose_version":"CHỌN PHIÊN BẢN","version_for_you":"Chọn phiên bản bạn muốn trải nghiệm","standard_version":"Phiên bản tiêu chuẩn","use_qrcode":"Phiên bản sử dụng QR Code để bóc tách thông tin CCCD","is_qrcode_scan":"Quét QR Code"}}')},function(e,t,i){!function(){"use strict";var t=i(6),n=i(7),o={origin:"*",methods:"GET,HEAD,PUT,PATCH,POST,DELETE",preflightContinue:!1,optionsSuccessStatus:204};function c(e){return"string"==typeof e||e instanceof String}function s(e,t){if(Array.isArray(t)){for(var i=0;i<t.length;++i)if(s(e,t[i]))return!0;return!1}return c(t)?e===t:t instanceof RegExp?t.test(e):!!t}function l(e,t){var i,n=t.headers.origin,o=[];return e.origin&&"*"!==e.origin?c(e.origin)?(o.push([{key:"Access-Control-Allow-Origin",value:e.origin}]),o.push([{key:"Vary",value:"Origin"}])):(i=s(n,e.origin),o.push([{key:"Access-Control-Allow-Origin",value:!!i&&n}]),o.push([{key:"Vary",value:"Origin"}])):o.push([{key:"Access-Control-Allow-Origin",value:"*"}]),o}function d(e){return!0===e.credentials?{key:"Access-Control-Allow-Credentials",value:"true"}:null}function a(e){var t=e.exposedHeaders;return t?(t.join&&(t=t.join(",")),t&&t.length?{key:"Access-Control-Expose-Headers",value:t}:null):null}function r(e,t){for(var i=0,o=e.length;i<o;i++){var c=e[i];c&&(Array.isArray(c)?r(c,t):"Vary"===c.key&&c.value?n(t,c.value):c.value&&t.setHeader(c.key,c.value))}}e.exports=function(e){var i=null;return i="function"==typeof e?e:function(t,i){i(null,e)},function(e,n,c){i(e,(function(i,s){if(i)c(i);else{var p=t({},o,s),m=null;p.origin&&"function"==typeof p.origin?m=p.origin:p.origin&&(m=function(e,t){t(null,p.origin)}),m?m(e.headers.origin,(function(t,i){t||!i?c(t):(p.origin=i,function(e,t,i,n){var o=[];"OPTIONS"===(t.method&&t.method.toUpperCase&&t.method.toUpperCase())?(o.push(l(e,t)),o.push(d(e)),o.push(function(e){var t=e.methods;return t.join&&(t=e.methods.join(",")),{key:"Access-Control-Allow-Methods",value:t}}(e)),o.push(function(e,t){var i=e.allowedHeaders||e.headers,n=[];return i?i.join&&(i=i.join(",")):(i=t.headers["access-control-request-headers"],n.push([{key:"Vary",value:"Access-Control-Request-Headers"}])),i&&i.length&&n.push([{key:"Access-Control-Allow-Headers",value:i}]),n}(e,t)),o.push(function(e){var t=("number"==typeof e.maxAge||e.maxAge)&&e.maxAge.toString();return t&&t.length?{key:"Access-Control-Max-Age",value:t}:null}(e)),o.push(a(e)),r(o,i),e.preflightContinue?n():(i.statusCode=e.optionsSuccessStatus,i.setHeader("Content-Length","0"),i.end())):(o.push(l(e,t)),o.push(d(e)),o.push(a(e)),r(o,i),n())}(p,e,n,c))})):c()}}))}}}()},function(e,t,i){"use strict";var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;function s(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var i,l,d=s(e),a=1;a<arguments.length;a++){for(var r in i=Object(arguments[a]))o.call(i,r)&&(d[r]=i[r]);if(n){l=n(i);for(var p=0;p<l.length;p++)c.call(i,l[p])&&(d[l[p]]=i[l[p]])}}return d}},function(e,t,i){"use strict";e.exports=function(e,t){if(!e||!e.getHeader||!e.setHeader)throw new TypeError("res argument is required");var i=e.getHeader("Vary")||"",n=Array.isArray(i)?i.join(", "):String(i);(i=o(n,t))&&e.setHeader("Vary",i)},e.exports.append=o;var n=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/;function o(e,t){if("string"!=typeof e)throw new TypeError("header argument is required");if(!t)throw new TypeError("field argument is required");for(var i=Array.isArray(t)?t:c(String(t)),o=0;o<i.length;o++)if(!n.test(i[o]))throw new TypeError("field argument contains an invalid header name");if("*"===e)return e;var s=e,l=c(e.toLowerCase());if(-1!==i.indexOf("*")||-1!==l.indexOf("*"))return"*";for(var d=0;d<i.length;d++){var a=i[d].toLowerCase();-1===l.indexOf(a)&&(l.push(a),s=s?s+", "+i[d]:i[d])}return s}function c(e){for(var t=0,i=[],n=0,o=0,c=e.length;o<c;o++)switch(e.charCodeAt(o)){case 32:n===t&&(n=t=o+1);break;case 44:i.push(e.substring(n,t)),n=t=o+1;break;default:t=o+1}return i.push(e.substring(n,t)),i}},function(e,t,i){"use strict";function n(e){return"object"==typeof e?"{}"===JSON.stringify(e)||"[]"===JSON.stringify(e)||!e:"string"==typeof e?!e.trim():void 0===e}function o(e,t={},i,o,c,s={}){var l=new XMLHttpRequest,d=s.AUTHORIZION,a=s.TOKEN_ID,r=s.TOKEN_KEY;l.open("POST",e,!0),!n(t)&&l.setRequestHeader(t.key,t.value),l.setRequestHeader("Authorization","Bearer "+d),l.setRequestHeader("Token-id",a),l.setRequestHeader("Token-key",r),l.setRequestHeader("mac-address","WEB-001"),l.onreadystatechange=function(){4==l.readyState&&(200==l.status?o(l.responseText):c(l.responseText))},l.send(i)}function c(e){var t=new Date(e),i=""+(t.getMonth()+1),n=""+t.getDate(),o=t.getFullYear();return i.length<2&&(i="0"+i),n.length<2&&(n="0"+n),[o,i,n].join("-")}function s(e,t,i){var n={},o={},s={};n[piexif.ImageIFD.Make]="wb",n[piexif.ImageIFD.XResolution]=[t,1],n[piexif.ImageIFD.YResolution]=[i,1],n[piexif.ImageIFD.Software]="vnpt_ekyc",o[piexif.ExifIFD.DateTimeOriginal]=c(new Date),o[piexif.ExifIFD.LensMake]="LensMake",o[piexif.ExifIFD.Sharpness]=777,o[piexif.ExifIFD.LensSpecification]=[[1,1],[1,1],[1,1],[1,1]],s[piexif.GPSIFD.GPSVersionID]=[7,7,7,7],s[piexif.GPSIFD.GPSDateStamp]="1999:99:99 99:99:99";var l={"0th":n,Exif:o,GPS:s},d=piexif.dump(l);return piexif.insert(d,e)}function l(e,t){var i=btoa(JSON.stringify(e)),n=CryptoJS.AES.encrypt(i,t).toString(),o=CryptoJS.AES.decrypt(n,t).toString(CryptoJS.enc.Utf8);JSON.parse(atob(o));return n}function d(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}function a(e){for(var t=atob(e.split(",")[1]),i=new ArrayBuffer(t.length),n=new Uint8Array(i),o=0;o<t.length;o++)n[o]=t.charCodeAt(o);return new Blob([i],{type:"image/jpeg"})}function r(){var e=document.getElementById("ekyc-loading");e&&e.parentNode.removeChild(e)}function p(){var e=document.getElementById("vnpt_ekyc");document.getElementById("step1-demo-ekyc").style.display="none",e.insertAdjacentHTML("beforeend","<div class='ekyc-loading' id='ekyc-loading'><div class='arc'></div></div>")}i.r(t),i.d(t,"init",(function(){return K})),i.d(t,"reload",(function(){return q})),i.d(t,"viewResult",(function(){return J})),i.d(t,"removeExistingItem",(function(){return W}));function m(e,t){t=t.toLowerCase();["en","vi"].includes(t)||(t="vi");const n=i(1)(`./${t}.json`);for(var o=0;o<e.length;o++)try{e[o].textContent=new Function("return this."+e[o].textContent.toLowerCase()+";").call(n)}catch(t){e[o].textContent="",console.log("Error in <var/> Tag: "+t.message)}}function v(e){var t=new Date(e),i=""+(t.getMonth()+1),n=""+t.getDate(),o=t.getFullYear();return i.length<2&&(i="0"+i),n.length<2&&(n="0"+n),[o,i,n].join("-")}function u(e){for(var t=atob(e.split(",")[1]),i=new ArrayBuffer(t.length),n=new Uint8Array(i),o=0;o<t.length;o++)n[o]=t.charCodeAt(o);return new Blob([i],{type:"image/jpeg"})}function y(){var e=400,t="",i=document.getElementById("canvas"),n=document.getElementById("video"),o=Math.round(n.videoHeight/(n.videoWidth/e));i.width=e,i.height=o,i.getContext("2d").drawImage(n,0,0,e,o),t=s(t=i.toDataURL("image/jpeg"),e,o),document.getElementById("canvas-border").style.height=o+"px";return{im_w:e,optimizer:l({image_type:"jpeg",width:e,height:o,brand:"wb",date_taken:v(new Date),soft_ware:"vnpt_ekyc"},"3cb7ecbd-2343-4272-b2f1-cdb12983ecc0"),current_height:o,file:u(t),image_base64:t}}function g(e,t,i){var n="";return e&&!t?n="<div class='take-picture-btn' id='take-picture-step1'><img id='take-picture-step1-img' class='camera-icon' src='https://ekyc.bionicmachine.co/images/capture_icon_w.png'></img><span class='title' id='take-picture-step1-title'><var>FACE.TAKE_PHOTO</var></span></div>":!e&&t&&(n=""),n}function _(e,t,i){var n="";return e&&!t?(n="<div class='webcame-zone' id='webcame-zone'><div class='video-block' id='video-block'><video class='action-block' id='video' muted playsinline autoplay></video></div><div id='canvas-border'><canvas id='canvas' style='overflow:auto; display:none'></canvas></div></div>",function(e){try{var t=window.screen.width<window.outerWidth?window.screen.width:window.outerWidth;if(navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,t>1024&&navigator.mediaDevices.getUserMedia){var i={audio:!1,video:{facingMode:"user"}};navigator.mediaDevices.getUserMedia(i).then((function(t){if(video.srcObject=t,(t.getVideoTracks()[0].label?t.getVideoTracks()[0].label.toLowerCase():"anonymous").includes("fake")){let e=d("VnVpIGzDsm5nIGtp4buDbSB0cmEgY2FtZXJhIGPhu6dhIGLhuqFuICE=");alert(e),h(t),location.reload()}else video.play(),e(t)})).catch((function(e){console.log("Something went wrong!",e);let t=d("VnVpIGzDsm5nIGtp4buDbSB0cmEgY2FtZXJhIGPhu6dhIGLhuqFuICE=");alert(t)}))}}catch(e){console.log("err webcam",e)}}(i)):!e&&t&&(n="<div id='dropZoneWeb' class='id-card1'><div id='upload-image-web' class='upload-btn-wrapper'><button class='btn btn-upload-image'><img alt='active' src='https://ekyc.bionicmachine.co/images/altiss/upload.svg'><span><var>FRONT.UPLOAD_IMAGE</var></span></button><input accept='image/*' id='fileInputWeb' name='img-id' type='file'></div></div>"),n}function b(e){return"<div class='webcame-zone' id='webcame-zone'><div id='wrapper-oval'><div id='notice-ani'><div id='notice-face'></div></div><video class='action-block' id='video' muted playsinline autoplay style='visibility: visible'></video><div id='animation'></div><img id='outPut' crossorigin='anonymous' ></div><div id='canvas-border'><canvas id='canvas' style='overflow:auto; display:none'></canvas></div></div>",function(e){try{var t=window.screen.width<window.outerWidth?window.screen.width:window.outerWidth;navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var i="user",n={};if(t<1024){var o=window.innerWidth>0?window.innerWidth:screen.width;n={audio:!1,video:{facingMode:i,width:{ideal:o/.75},height:{ideal:o},frameRate:{ideal:30}}}}else n={audio:!1,video:{facingMode:i,width:{ideal:640},height:{ideal:360}}};navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia(n).then((function(t){if(video.srcObject=t,(t.getVideoTracks()[0].label?t.getVideoTracks()[0].label.toLowerCase():"anonymous").includes("fake")){let e=d("VnVpIGzDsm5nIGtp4buDbSB0cmEgY2FtZXJhIGPhu6dhIGLhuqFuICE=");alert(e),h(t),location.reload()}else video.play(),e(t)})).catch((function(e){console.log("Something went wrong!",e);let t=d("VnVpIGzDsm5nIGtp4buDbSB0cmEgY2FtZXJhIGPhu6dhIGLhuqFuICE=");alert(t)}))}catch(e){console.log("err webcam",e)}}(e),"<div class='webcame-zone' id='webcame-zone'><div id='wrapper-oval'><div id='notice-ani'><div id='notice-face'></div></div><video class='action-block' id='video' muted playsinline autoplay style='visibility: visible'></video><div id='animation'></div><img id='outPut' crossorigin='anonymous' ></div><div id='canvas-border'><canvas id='canvas' style='overflow:auto; display:none'></canvas></div></div>"}function E(e,t,i){var n="";return t&&!i&&("DOCUMENT"===e&&(n="<div class='ekyc_description' id='ekyc_description' ><span><var>FACE.PLEASE</var></span><br/><span><var>FRONT.GUIDE_4</var></span></div>"),"FACE"===e&&(n="<div class='ekyc_description' id='ekyc_description2'><span><var>FACE.PLEASE</var></span><br/><span><var>FACE.DES_1</var></span></div>"),"QR"===e&&(n="<div class='ekyc_description' id='ekyc_description3'><span><var>FRONT.QR_DES</var></span><br/></div>")),n}function h(e){for(let t=0;t<e.length;t++){e[t].getTracks().forEach((function(e){"live"==e.readyState&&e.stop()}))}}var f="https://sandbox-idg.vnpt.vn/";function I(e,t,i,n){try{var c=(n.BACKEND_URL.length>0?n.BACKEND_URL:f)+"file-service/v1/addFile",s=new FormData;s.append("file\t",e.file),s.append("title\t","upload_cmt_front"),s.append("description\t","upload_cmt_front"),o(c,{},s,i=>{t(JSON.parse(i),e)},e=>{i(e)},n)}catch(e){console.log("uploadImageErr",e)}}function k(e,t,i,n){try{var c=(n.BACKEND_URL.length>0?n.BACKEND_URL:f)+"ai/v2/web/card/liveness",s={img:e.currentHash,client_session:"9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",token:"ai/v2/web/card/liveness",optimizer:e.dataImage.optimizer};o(c,{key:"Content-Type",value:"application/json"},JSON.stringify(s),e=>{t(JSON.parse(e))},e=>{i(e)},n)}catch(e){console.log("livenessFrontCardWebErr",e)}}function B(e,t,i,n){try{var c=(n.BACKEND_URL.length>0?n.BACKEND_URL:f)+"ai/v1/web/card/liveness",s={img:e.currentHash,client_session:"9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",token:"ai/v2/web/card/liveness",optimizer:e.dataImage.optimizer};o(c,{key:"Content-Type",value:"application/json"},JSON.stringify(s),e=>{t(JSON.parse(e))},e=>{i(e)},n)}catch(e){console.log("livenessFrontCardWebErr",e)}}function T(e,t,i,n){try{var c=(n.BACKEND_URL.length>0?n.BACKEND_URL:f)+"ai/v2/web/face/liveness",s={img:e.currentHash,client_session:"9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",token:"sdk-web-e41-1b6d-45c9-9",optimizer:e.dataImage.optimizer};o(c,{key:"Content-Type",value:"application/json"},JSON.stringify(s),e=>{t(JSON.parse(e))},e=>{i(e)},n)}catch(e){console.log("livenessFrontFaceWebErr",e)}}function C(e,t,i,n){try{var c=(n.BACKEND_URL.length>0?n.BACKEND_URL:f)+"ai/v1/web/face/liveness",s={img:e.currentHash,client_session:"9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",token:"sdk-web-e41-1b6d-45c9-9"};o(c,{key:"Content-Type",value:"application/json"},JSON.stringify(s),e=>{t(JSON.parse(e))},e=>{i(e)},n)}catch(e){console.log("livenessFrontFaceWebErr",e)}}function A(e,t,i,n){try{var c=(n.BACKEND_URL.length>0?n.BACKEND_URL:f)+"ai/v2/web/ocr/id/front",s={img_front:e.currentHash,client_session:"9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",token:"e41-1b6d-45c9-9",type:e.typeDocument,crop_param:"",validate_postcode:!0,optimizer:e.dataImage.optimizer};o(c,{key:"Content-Type",value:"application/json"},JSON.stringify(s),e=>{t(JSON.parse(e))},e=>{i(e)},n)}catch(e){console.log("ocrOneSideWebErr",e)}}function S(e,t,i,n){try{var c=(n.BACKEND_URL.length>0?n.BACKEND_URL:f)+"ai/v1/web/ocr/id/front",s={img_front:e.currentHash,client_session:"9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",token:"e41-1b6d-45c9-9",type:e.typeDocument,crop_param:"",validate_postcode:!0};o(c,{key:"Content-Type",value:"application/json"},JSON.stringify(s),e=>{t(JSON.parse(e))},e=>{i(e)},n)}catch(e){console.log("ocrOneSideWebErr",e)}}function w(e,t,i,n){try{var c=(n.BACKEND_URL.length>0?n.BACKEND_URL:f)+"ai/v2/web/ocr/id",s={img_front:e.dataHash.hash0,img_back:e.dataHash.hash1,client_session:"9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",token:"e41-1b6d-45c9-9",type:e.typeDocument,crop_param:"",validate_postcode:!0,optimizer:e.dataImage.optimizer};o(c,{key:"Content-Type",value:"application/json"},JSON.stringify(s),e=>{t(JSON.parse(e))},e=>{i(e)},n)}catch(e){console.log("ocrOneSideWebErr",e)}}function L(e,t,i,n){console.log("ocrFullSideMobile",e);try{var c=(n.BACKEND_URL.length>0?n.BACKEND_URL:f)+"ai/v1/web/ocr/id",s={img_front:e.dataHash.hash0,img_back:e.dataHash.hash1,client_session:"9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",token:"e41-1b6d-45c9-9",type:e.typeDocument,crop_param:"",validate_postcode:!0};o(c,{key:"Content-Type",value:"application/json"},JSON.stringify(s),e=>{t(JSON.parse(e))},e=>{i(e)},n)}catch(e){console.log("ocrOneSideWebErr",e)}}function O(e,t,i,n){try{console.log("maskedFaceWeb",e);var c=(n.BACKEND_URL.length>0?n.BACKEND_URL:f)+"ai/v2/web/face/mask",s={img:e.dataHash.hashFace,client_session:"9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",optimizer:e.dataImage.optimizer};o(c,{key:"Content-Type",value:"application/json"},JSON.stringify(s),e=>{t(JSON.parse(e))},e=>{i(e)},n)}catch(e){console.log("maskedFaceWebErr",e)}}function x(e,t,i,n){try{var c=(n.BACKEND_URL.length>0?n.BACKEND_URL:f)+"ai/v1/web/face/mask",s={img:e.hashFace,client_session:"9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196"};o(c,{key:"Content-Type",value:"application/json"},JSON.stringify(s),e=>{t(JSON.parse(e))},e=>{i(e)},n)}catch(e){console.log("maskedFaceWebErr",e)}}function N(e,t,i,n){try{console.log("compareFaceWeb",e);var c=(n.BACKEND_URL.length>0?n.BACKEND_URL:f)+"ai/v2/web/face/compare",s={img_front:e.dataHash.hashFront,img_face:e.dataHash.hashFace,client_session:"9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",token:"abc",optimizer:e.dataImage.optimizer};o(c,{key:"Content-Type",value:"application/json"},JSON.stringify(s),e=>{t(JSON.parse(e))},e=>{i(e)},n)}catch(e){console.log("compareFaceWebErr",e)}}function M(e,t,i,n){try{var c=(n.BACKEND_URL.length>0?n.BACKEND_URL:f)+"ai/v1/web/face/compare",s={img_front:e.dataHash.hashFront,img_face:e.dataHash.hashFace,client_session:"9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",token:"abc"};o(c,{key:"Content-Type",value:"application/json"},JSON.stringify(s),e=>{t(JSON.parse(e))},e=>{i(e)},n)}catch(e){console.log("compareFaceWebErr",e)}}function j(e,t){!function(){console.log("ket-qua",e);var i=document.getElementById("vnpt_ekyc"),o='<div class="step-4" id="ekyc-step-4"><ul class="progressbar" id="progressbar" style="width:45%;margin-bottom: 27px"><li class="complete" id="progress-step0">Mặt trước</li><li  class="complete" id="progress-step1">Mặt sau</li><li  class="complete" id="progress-step2">Chân dung</li><li  class="complete" id="progress-step3">Kết quả</li></ul><div class="info-wrap"><div class="tabs"><div id="validation" class="tab"><ul class="nav nav-tabs"><li id="info-tab"><div>Thông tin cá nhân</div></li><li id="validation-tab" class="active"><div>Validation</div></li></ul><div class="block-left" id="tab2-content"><div class="item"><div class="label-cus">Loại giấy tờ</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?'<div style="color:red;">Không hợp lệ</div>':'<div style="color:green;">Hợp lệ</div>')+'</div></div><div class="item"><div class="label-cus">Mặt trước, sau giấy tờ</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?function(e){let t="";t=n(e&&e.errors.find(e=>"Dau vao mat truoc va sau khong cung loai"==e))?"":'<div style="color:red;">Không cùng loại</div>';return t}(e.orc_err):function(e,t){let i="";i=e==t?'<div style="color: green;">Cùng loại</div>':'<div style="color: red;">Không cùng loại</div>';return i}(e.ocr.object.back_type_id,e.ocr.object.type_id))+'</div></div><div class="item"><div class="label-cus">Giấy tờ mờ nhòe/mất góc</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":function(e){let t="";t=n(e)?'<div style="color:green;">Không</div>':'<div style="color:red;">Có</div>';return t}(e.ocr.object.warning))+'</div></div><div class="item"><div class="label-cus">Chất lượng số ID</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":function(e){let t=JSON.parse(e);if(n(t))return'<div style="color: red;">Mờ nhòe</div>';for(var i=0;i<t.length;i++)if(t[i]<.93)return'<div style="color: red;">Mờ nhòe</div>';return'<div style="color: green;">Tốt</div>'}(e.ocr.object.id_probs))+'</div></div><div class="item"><div class="label-cus">Chất lượng ngày cấp</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":function(e){if(e<.93)return'<div style="color: red;">Mờ nhòe</div>';return'<div style="color: green;">Tốt</div>'}(e.ocr.object.issue_date_prob))+'</div></div><div class="item"><div class="label-cus">Hạn giấy tờ</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":function(e){let t="";t="no"==e?'<div style="color:green;">Còn hạn</div>':'<div style="color:red;">Hết hạn</div>';return t}(e.ocr.object.expire_warning))+'</div></div><div class="item"><div class="label-cus">Xác thực giấy tờ</div><div class="item-content">'+(n(e)||n(e.liveness_card_front)||n(e.liveness_card_back)?"":function(e,t){let i="";i=e||t?'<div style="color:red;">Không chụp trực tiếp</div>':'<div style="color:green;">Chụp trực tiếp</div>';return i}(e.liveness_card_front.object.fake_liveness,e.liveness_card_back.object.fake_liveness))+'</div></div><div class="item"><div class="label-cus">Cảnh báo trường thông tin</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":function(e){const t={id_sua_xoa:"Số ID bị sửa xóa",id_ko_hop_le:"Số ID không hợp lệ",id_dob_ko_khop:"Mã năm sinh không khớp",id_gender_ko_khop:"Mã giới tính không khớp",id_post_code_ko_khop:"Mã tỉnh/TP không khớp",invalid_dob:"Mã ngày sinh không hợp lệ",den_trang_ko_hop_le:"Giấy tờ photo",fake_printing:"Giấy tờ không hợp lệ",id_invalid_length:"Số ID không hợp lệ"};let i="",n=[],o=[];for(var c=0;c<e.length;c++)"id_ko_hop_le"==e[c]||"id_dob_ko_khop"==e[c]||"id_gender_ko_khop"==e[c]||"id_post_code_ko_khop"==e[c]||"invalid_dob"==e[c]?n.push(e[c]):o.push(e[c]);if(n.length>0)for(c=0;c<n.length;c++)i+='<div style="color:#ff7f00;">'+t[e[c]]+"</div>";else if(o.length>0)for(c=0;c<o.length;c++)i+='<div style="color:#ff7f00;">'+t[e[c]]+"</div>";else i='<div style="color:green;">Hợp lệ</div>';return i}(e.ocr.object.tampering.warning))+'</div></div><div class="item"><div class="label-cus">Dán đè ảnh</div><div class="item-content">'+(n(e)||n(e.liveness_card_front)||n(e.liveness_card_front.object)?"":function(e){let t="";t=e?'<div style="color:red;">Có</div>':'<div style="color:green;">Không</div>';return t}(e.liveness_card_front.object.face_swapping))+'</div></div><div class="item"><div class="label-cus">Mở mắt</div><div class="item-content">'+(n(e)||n(e.liveness_face)||n(e.liveness_face.object)?"":function(e){let t="";t="yes"==e?'<div style="color:green;">Có</div>':'<div style="color:red;">Không</div>';return t}(e.liveness_face.object.is_eye_open))+'</div></div><div class="item"><div class="label-cus">Mờ mặt</div><div class="item-content">'+(n(e)||n(e.liveness_face)||n(e.liveness_face.object)?"":function(e){let t="";t="no"==e?'<div style="color:green;">Không</div>':'<div style="color:red;">Có</div>';return t}(e.liveness_face.object.blur_face))+'</div></div><div class="item"><div class="label-cus">Xác thực chân dung</div><div class="item-content">'+(n(e)||n(e.liveness_face)||n(e.liveness_face.object)?"":function(e){let t="";t="success"==e?'<div style="color:green;">Người thật</div>':'<div style="color:red;">Không phải người thật</div>';return t}(e.liveness_face.object.liveness))+'</div></div><div class="item"></div></div></div><div id="info" class="tab"><ul class="nav nav-tabs"><li id="info-tab1" class="active"><div>Thông tin cá nhân</div></li><li id="validation-tab1"><div>Validation</div></li></ul><div class="block-left"><div class="item"><div class="label-cus">Giấy tờ</div><div class="item-content">'+function(){let i='<div style="color:green;" class="check-info-doc">Hợp lệ</div>';n(e)?(i='<div style="color:red;" class="check-info-doc">Không hợp lệ</div>',console.log("data empty")):(n(e.ocr)||n(e.ocr.object)?(i='<div style="color:red;" class="check-info-doc">Không hợp lệ</div>',console.log("ocr || obj empty")):n(e.ocr.object.expire_warning)||"yes"==e.ocr.object.expire_warning&&(i='<div style="color:red;" class="check-info-doc">Không hợp lệ</div>',console.log("data.ocr.object.expire_warning")),n(e.liveness_card_front)||n(e.liveness_card_back)?t.CHECK_LIVENESS_CARD&&(i='<div style="color:red;" class="check-info-doc">Không hợp lệ</div>',console.log("liveness_card_front || liveness_card_back")):(e.liveness_card_front.face_swapping&&(i='<div style="color:red;" class="check-info-doc">Không hợp lệ</div>',console.log("data.liveness_card_front.face_swapping")),e.liveness_card_front.fake_liveness&&(i='<div style="color:red;" class="check-info-doc">Không hợp lệ</div>',console.log("data.liveness_card_front.fake_liveness")),e.liveness_card_front.fake_print_photo&&(i='<div style="color:red;" class="check-info-doc">Không hợp lệ</div>',console.log("data.liveness_card_front.fake_print_photo")),e.liveness_card_back.face_swapping&&(i='<div style="color:red;" class="check-info-doc">Không hợp lệ</div>',console.log("data.liveness_card_back.face_swapping")),e.liveness_card_back.fake_liveness&&(i='<div style="color:red;" class="check-info-doc">Không hợp lệ</div>',console.log("data.liveness_card_back.face_swapping")),e.liveness_card_back.fake_print_photo&&(i='<div style="color:red;" class="check-info-doc">Không hợp lệ</div>',console.log("data.liveness_card_back.fake_print_photo"))));if(!(n(e)||n(e.ocr)||n(e.ocr.object)||n(e.ocr.object.warning_msg))){let t=e.ocr.object.warning_msg;i="";for(var o=0;o<t.length;o++)i+='<div style="color:#ff7f00;">'+t[o]+"</div>";console.log("data.ocr.object.warning",i)}return i}()+'</div></div><div class="item"><div class="label-cus">Số ID</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":e.ocr.object.id)+'</div></div><div class="item"><div class="label-cus">Họ và tên</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":e.ocr.object.name)+'</div></div><div class="item"><div class="label-cus">Ngày sinh</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":e.ocr.object.birth_day)+'</div></div><div class="item"><div class="label-cus">Nơi ĐKHK TT</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":e.ocr.object.recent_location)+'</div></div><div class="item"><div class="label-cus">Giới tính</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":e.ocr.object.gender)+'</div></div><div class="item"><div class="label-cus">Ngày cấp</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":e.ocr.object.issue_date)+'</div></div><div class="item"><div class="label-cus">Nơi cấp</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":e.ocr.object.issue_place)+'</div></div><div class="item"><div class="label-cus">So sánh</div><div class="item-content">'+(n(e)||n(e.compare)||n(e.compare.object)?'<div style="color: red;"> Không tìm thấy khuôn mặt </div>':function(e){let t="";t="NOMATCH"==e.msg?'<div style="color: red;">'+e.result+"</div>":'<div style="color: green;">'+e.result+"</div>";return t}(e.compare.object))+'</div></div></div></div></div><div class="images-block"><img class="image-result" src="'+(!n(e)&&!n(e.base64_doc_img)&&e.base64_doc_img.img_front)+'"/><img class="image-result" src="'+(!n(e)&&!n(e.base64_doc_img)&&e.base64_doc_img.img_back)+'"/><img class="image-result" src="'+(!n(e)&&!n(e.base64_face_img)&&e.base64_face_img.img_face_far)+'"/><img class="image-result" src="'+(!n(e)&&!n(e.base64_face_img)&&e.base64_face_img.img_face_near)+'"/></div></div><div class="btn-redemo" id="btn-redemo"><img src="https://ekyc.bionicmachine.co/images/refresh_icon.png" style="width: 20px; height: 20px; margin-right: 5px"/><span>THỰC HIỆN LẠI</span></div></div>';i.insertAdjacentHTML("beforeend",o),document.getElementById("btn-redemo").addEventListener("click",(function(){location.reload()})),document.getElementById("info-tab").addEventListener("click",(function(){let e=document.getElementById("validation"),t=document.getElementById("info");e.style.display="none",t.style.display="block"})),document.getElementById("info-tab1").addEventListener("click",(function(){let e=document.getElementById("validation"),t=document.getElementById("info");e.style.display="none",t.style.display="block"})),document.getElementById("validation-tab").addEventListener("click",(function(){let e=document.getElementById("validation"),t=document.getElementById("info");e.style.display="block",t.style.display="none"})),document.getElementById("validation-tab1").addEventListener("click",(function(){let e=document.getElementById("validation"),t=document.getElementById("info");e.style.display="block",t.style.display="none"}))}()}function U(e,t){!function(){console.log("ket-qua",e);var i=document.getElementById("vnpt_ekyc"),o='<div class="step-4" id="ekyc-step-4"><ul class="progressbar" id="progressbar" style="width:45%;margin-bottom: 27px"><li class="complete" id="progress-step0">Mặt trước</li><li  class="complete" id="progress-step1">Chân dung</li><li  class="complete" id="progress-step2">Kết quả</li></ul><div class="info-wrap"><div class="tabs"><div id="validation" class="tab"><ul class="nav nav-tabs"><li id="info-tab"><div>Thông tin cá nhân</div></li><li id="validation-tab" class="active"><div>Validation</div></li></ul><div class="block-left" id="tab2-content"><div class="item"><div class="label-cus">Loại giấy tờ</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?'<div style="color:red;">Không hợp lệ</div>':'<div style="color:green;">Hợp lệ</div>')+'</div></div><div class="item"><div class="label-cus">Giấy tờ mờ nhòe/mất góc</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":function(e){let t="";t=n(e)?'<div style="color:green;">Không</div>':'<div style="color:red;">Có</div>';return t}(e.ocr.object.warning))+'</div></div><div class="item"><div class="label-cus">Chất lượng số ID</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":function(e){let t=JSON.parse(e);if(n(t))return'<div style="color: red;">Mờ nhòe</div>';for(var i=0;i<t.length;i++)if(t[i]<.93)return'<div style="color: red;">Mờ nhòe</div>';return'<div style="color: green;">Tốt</div>'}(e.ocr.object.id_probs))+'</div></div><div class="item"><div class="label-cus">Chất lượng ngày cấp</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":function(e){if(e<.93)return'<div style="color: red;">Mờ nhòe</div>';return'<div style="color: green;">Tốt</div>'}(e.ocr.object.issue_date_prob))+'</div></div><div class="item"><div class="label-cus">Hạn giấy tờ</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":function(e){let t="";t="no"==e?'<div style="color:green;">Còn hạn</div>':'<div style="color:red;">Hết hạn</div>';return t}(e.ocr.object.expire_warning))+'</div></div><div class="item"><div class="label-cus">Xác thực giấy tờ</div><div class="item-content">'+(n(e)||n(e.liveness_card_front)||n(e.liveness_card_front.object)?'<div style="color:red;">Không chụp trực tiếp</div>':function(e){let t="";t=e?'<div style="color:red;">Không chụp trực tiếp</div>':'<div style="color:green;">Chụp trực tiếp</div>';return t}(e.liveness_card_front.object.fake_liveness))+'</div></div><div class="item"><div class="label-cus">Cảnh báo trường thông tin</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)||n(e.ocr.object)?"":function(e){const t={id_sua_xoa:"Số ID bị sửa xóa",id_ko_hop_le:"Số ID không hợp lệ",id_dob_ko_khop:"Mã năm sinh không khớp",id_gender_ko_khop:"Mã giới tính không khớp",id_post_code_ko_khop:"Mã tỉnh/TP không khớp",invalid_dob:"Mã ngày sinh không hợp lệ",den_trang_ko_hop_le:"Giấy tờ photo",fake_printing:"Giấy tờ không hợp lệ",id_invalid_length:"Số ID không hợp lệ"};let i="",n=[],o=[];for(var c=0;c<e.length;c++)"id_ko_hop_le"==e[c]||"id_dob_ko_khop"==e[c]||"id_gender_ko_khop"==e[c]||"id_post_code_ko_khop"==e[c]||"invalid_dob"==e[c]?n.push(e[c]):o.push(e[c]);if(n.length>0)for(c=0;c<n.length;c++)i+='<div style="color:#ff7f00;">'+t[e[c]]+"</div>";else if(o.length>0)for(c=0;c<o.length;c++)i+='<div style="color:#ff7f00;">'+t[e[c]]+"</div>";else i='<div style="color:green;">Hợp lệ</div>';return i}(e.ocr.object.tampering.warning))+'</div></div><div class="item"><div class="label-cus">Dán đè ảnh</div><div class="item-content">'+(n(e)||n(e.liveness_card_front)||n(e.liveness_card_front.object)?"":function(e){let t="";t=e?'<div style="color:red;">Có</div>':'<div style="color:green;">Không</div>';return t}(e.liveness_card_front.object.face_swapping))+'</div></div><div class="item"><div class="label-cus">Mở mắt</div><div class="item-content">'+(n(e)||n(e.liveness_face)||n(e.liveness_face.object)?"":function(e){let t="";t="yes"==e?'<div style="color:green;">Có</div>':'<div style="color:red;">Không</div>';return t}(e.liveness_face.object.is_eye_open))+'</div></div><div class="item"><div class="label-cus">Mờ mặt</div><div class="item-content">'+(n(e)||n(e.liveness_face)||n(e.liveness_face.object)?"":function(e){let t="";t="no"==e?'<div style="color:green;">Không</div>':'<div style="color:red;">Có</div>';return t}(e.liveness_face.object.blur_face))+'</div></div><div class="item"><div class="label-cus">Xác thực chân dung</div><div class="item-content">'+(n(e)||n(e.liveness_face)||n(e.liveness_face.object)?"":function(e){let t="";t="success"==e?'<div style="color:green;">Người thật</div>':'<div style="color:red;">Không phải người thật</div>';return t}(e.liveness_face.object.liveness))+'</div></div><div class="item"></div></div></div><div id="info" class="tab"><ul class="nav nav-tabs"><li id="info-tab1" class="active"><div>Thông tin cá nhân</div></li><li id="validation-tab1"><div>Validation</div></li></ul><div class="block-left"><div class="item"><div class="label-cus">Giấy tờ</div><div class="item-content">'+function(){let i='<div style="color:green;" class="check-info-doc">Hợp lệ</div>';n(e)?(i='<div style="color:red;" class="check-info-doc">Không hợp lệ</div>',console.log("data empty")):(n(e.ocr)||n(e.ocr.object)?(i='<div style="color:red;" class="check-info-doc">Không hợp lệ</div>',console.log("ocr || obj empty")):n(e.ocr.object.expire_warning)||"yes"==e.ocr.object.expire_warning&&(i='<div style="color:red;" class="check-info-doc">Không hợp lệ</div>',console.log("data.ocr.object.expire_warning")),n(e.liveness_card_front)?t.CHECK_LIVENESS_CARD&&(i='<div style="color:red;" class="check-info-doc">Không hợp lệ</div>',console.log("liveness_card_front")):(e.liveness_card_front.face_swapping&&(i='<div style="color:red;" class="check-info-doc">Không hợp lệ</div>',console.log("data.liveness_card_front.face_swapping")),e.liveness_card_front.fake_liveness&&(i='<div style="color:red;" class="check-info-doc">Không hợp lệ</div>',console.log("data.liveness_card_front.fake_liveness")),e.liveness_card_front.fake_print_photo&&(i='<div style="color:red;" class="check-info-doc">Không hợp lệ</div>',console.log("data.liveness_card_front.fake_print_photo"))));if(!(n(e)||n(e.ocr)||n(e.ocr.object)||n(e.ocr.object.warning_msg))){let t=e.ocr.object.warning_msg;i="";for(var o=0;o<t.length;o++)i+='<div style="color:#ff7f00;">'+t[o]+"</div>";console.log("data.ocr.object.warning",i)}return i}()+'</div></div><div class="item"><div class="label-cus">Số ID</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":e.ocr.object.id)+'</div></div><div class="item"><div class="label-cus">Họ và tên</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":e.ocr.object.name)+'</div></div><div class="item"><div class="label-cus">Ngày sinh</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":e.ocr.object.birth_day)+'</div></div><div class="item"><div class="label-cus">Nơi ĐKHK TT</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":e.ocr.object.recent_location)+'</div></div><div class="item"><div class="label-cus">Giới tính</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":e.ocr.object.gender)+'</div></div><div class="item"><div class="label-cus">Ngày cấp</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":e.ocr.object.issue_date)+'</div></div><div class="item"><div class="label-cus">Nơi cấp</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":e.ocr.object.issue_place)+'</div></div><div class="item"><div class="label-cus">So sánh</div><div class="item-content">'+(n(e)||n(e.compare)||n(e.compare.object)?'<div style="color: red;"> Không tìm thấy khuôn mặt </div>':function(e){let t="";t="NOMATCH"==e.msg?'<div style="color: red;">'+e.result+"</div>":'<div style="color: green;">'+e.result+"</div>";return t}(e.compare.object))+'</div></div></div></div></div><div class="images-block"><img class="image-result" src="'+(!n(e)&&!n(e.base64_doc_img)&&e.base64_doc_img.img_front)+'"/><img class="image-result" src="'+(!n(e)&&!n(e.base64_face_img)&&e.base64_face_img.img_face_far)+'"/><img class="image-result" src="'+(!n(e)&&!n(e.base64_face_img)&&e.base64_face_img.img_face_near)+'"/></div></div><div class="btn-redemo" id="btn-redemo"><img src="https://ekyc.bionicmachine.co/images/refresh_icon.png" style="width: 20px; height: 20px; margin-right: 5px"/><span>THỰC HIỆN LẠI</span></div></div>';i.insertAdjacentHTML("beforeend",o),document.getElementById("btn-redemo").addEventListener("click",(function(){location.reload()})),document.getElementById("info-tab").addEventListener("click",(function(){let e=document.getElementById("validation"),t=document.getElementById("info");e.style.display="none",t.style.display="block"})),document.getElementById("info-tab1").addEventListener("click",(function(){let e=document.getElementById("validation"),t=document.getElementById("info");e.style.display="none",t.style.display="block"})),document.getElementById("validation-tab").addEventListener("click",(function(){let e=document.getElementById("validation"),t=document.getElementById("info");e.style.display="block",t.style.display="none"})),document.getElementById("validation-tab1").addEventListener("click",(function(){let e=document.getElementById("validation"),t=document.getElementById("info");e.style.display="block",t.style.display="none"}))}()}i(5);function R(e,t,i,o){var c="https://ekyc.bionicmachine.co",s=document.getElementById("vnpt_ekyc"),l="<div class='step1-demo-ekyc front_ekyc' id='step1-demo-ekyc'><ul class='progressbar' id='progressbar'><div id='header-title' class='header-title'><var>FRONT.FRONT</var></div></ul>"+function(){var e="";t.SHOW_HELP&&(e="<img id='tutorial_btn' class='tutorial_btn' src='"+c+"/images/tutorial_btn.png'></img>");return e}()+_(t.USE_WEBCAM,t.USE_UPLOAD,(function(e){e&&(N=e)}))+E("DOCUMENT",t.USE_WEBCAM,t.USE_UPLOAD)+g(t.USE_WEBCAM,t.USE_UPLOAD)+"<div class='step1-after-capture' id='step1-after-capture'><div class='re-capture' id='step1-re-capture'><img id='step1-re-capture-icon' class='camera-icon' src='"+c+"/images/capture_icon_b.png'></img><span id='step1-re-capture-title'><var>FACE.TAKE_AGAIN</var></span></div><div class='next-step' id='step1-next-step'><img id='step1-next-step-icon' class='next-icon' src='"+c+"/images/next_icon_b.png'></img><span id='step1-next-step-title'><var>FACE.NEXT</var></span></div></div><div class='ekyc-popup' id='ekyc-popup-1'><div class='pu-header'><img class='close-btn' id='close-pop-1' width='32px' height='32px' src='"+c+"/images/remove_icon.png' /><div class='icons'><img class='main-icons' src='"+c+"/images/touch_cmt.png' /></div><div class='content' id='header-title-pop'><var>FRONT.GUIDE_1</var></div></div><div class='pu-body'><ul><li><var>FRONT.GUIDE_2</var></li><li><var>FRONT.GUIDE_3</var></li></ul></div><div class='pu-footer'><div class='text-center'><img class='main-icons' src='"+c+"/img/notice_1.png'/><p><var>NOTICE.NOTICE_1</var></p></div><div class='text-center'><img class='main-icons' src='"+c+"/img/notice_2.png'/><p><var>NOTICE.NOTICE_2</var></p></div><div class='text-center'><img class='main-icons' src='"+c+"/img/notice_3.png'/><p><var>NOTICE.NOTICE_3</var></p></div></div></div><div id='dropZone' class='id-card'><div class='capture-btn-wrapper'><img id='img-capture-mobile' class='img-capture-mobile' src='"+c+"/images/capure_mobile.png'></img><input id='fileInputMobile' type='file' accept='image/*' capture='environment'><div id='title-capture-mobile' class='title-capture-mobile'><var>FACE.TOUCH</var></div></div></div><div class='preview' id='previewZone'><img id='preview-img' src='' alt='preview' /></div><div class='ekyc_description' id='ekyc_description_mobile1' ><span><var>FACE.PLEASE</var></span><br/><span><var>FACE.GUIDE_5</var></span><br/><span> <var>FACE.GUIDE_6</var></span></div><div class='ekyc_description' id='ekyc_description_mobile2'><span><var>FACE.PLEASE</var></span><br/><span><var>FACE.GUIDE_7</var> </span><br/><span><var>FACE.GUIDE_8</var></span></div><div class='mobile-after-capture' id='mobile-after-capture'><div class='upload-btn-wrapper'><button class='btn-active' id='mobile-recapture'><img id='mobile-recapture-icon' class='camera-icon' src='"+c+"/images/capture_icon_b.png'></img><span id='mobile-recapture-title'><var>FACE.TAKE_AGAIN</var></span></button><input id='fileInputMobile1' type='file' accept='image/*' capture='environment'></div><div class='next-step' id='upload-next-step'><img id='upload-next-step-icon' class='next-icon' src='"+c+"/images/next_icon_b.png'></img><span id='upload-next-step-title'><var>FACE.NEXT</var></span></div><div class='next-step' id='mobile-next-step'><img id='mobile-next-step-icon' class='next-icon' src='"+c+"/images/next_icon_b.png'></img><span id='mobile-next-step-title'><var>FACE.NEXT</var></span></div></div><div class='tutorial-mobile'><a id='tutorial-mobile'><var>FACE.GUIDE</var></a></div></div>";s.insertAdjacentHTML("beforeend",l);var d=document.getElementById("video-block"),a=document.getElementById("tutorial_btn"),v=document.getElementById("take-picture-step1"),u=document.getElementById("take-picture-step1-title"),b=document.getElementById("take-picture-step1-img"),f=document.getElementById("ekyc_description"),T=document.getElementById("ekyc_description2"),C=document.getElementById("webcame-zone"),w=document.getElementById("upload-file-btn"),L=document.getElementById("dropZoneWeb"),O={type_document:e},x={},N=null;function M(i,n){var o={};o.currentHash=i.object.hash,o.dataImage=n,o.typeDocument=e,O.data_hash_document={hash0:i.object.hash},t.CHECK_LIVENESS_CARD&&k(o,G,P,t),A(o,K,q,t),U()}function j(e){console.log("uploadFileFail",e),U()}function U(){r(),document.getElementById("step1-demo-ekyc").style.display="block"}function R(i,n){var o={};o.currentHash=i.object.hash,o.dataImage=n,o.typeDocument=e,O.data_hash_document={hash0:i.object.hash},t.CHECK_LIVENESS_CARD?B(o,D,H,t):U(),S(o,Y,W,t)}function F(e){console.log("mobileUploadFileFail",e),U()}function D(e){O.liveness_card_front=e,U()}function H(e){O.liveness_card_front=JSON.parse(e),U()}function G(e){O.liveness_card_front=e}function P(e){O.liveness_card_front=JSON.parse(e)}function Y(e){O.ocr=e}function K(e){O.ocr=e}function W(e){O.ocr=JSON.parse(e)}function q(e){O.ocr=JSON.parse(e)}v&&v.addEventListener("click",(function(){var e=y(),i=document.getElementById("canvas-border");a&&(a.style.display="none"),canvas.style.display="block",i.style.display="block",d.style.display="none",this.style.display="none",document.getElementById("step1-after-capture").style.display="flex",I(e,M,j,t),x.img_front=e.image_base64,O.base64_doc_img=x,p()})),document.getElementById("step1-re-capture").addEventListener("click",(function(){document.getElementById("step1-after-capture").style.display="none",d.style.display="block",v.style.display="flex",a&&(a.style.display="block"),function(){let e="";document.getElementById("canvas-border").remove(),e="<div id='canvas-border'><canvas id='canvas' style='overflow:auto; display:none'></canvas></div>",C&&C.insertAdjacentHTML("beforeend","<div id='canvas-border'><canvas id='canvas' style='overflow:auto; display:none'></canvas></div>"),document.getElementById("canvas-border").style.display="none"}()})),document.getElementById("step1-next-step").addEventListener("click",(function(){p(),h(N),setTimeout((function(){r(),i(O),localStorage.setItem("dat_doc",JSON.stringify(O.data_hash_document)),o&&o(O)}),3e3)})),document.getElementById("close-pop-1").onclick=function(){(window.screen.width<window.outerWidth?window.screen.width:window.outerWidth)<=1024?(document.getElementById("ekyc-popup-1").style.display="none",document.getElementById("dropZone").style.display="block",document.getElementById("ekyc_description_mobile1").style.display="block",document.getElementById("tutorial-mobile").style.display="block",f&&(f.style.display="none")):(C&&(C.style.display="block"),document.getElementById("ekyc-popup-1").style.display="none",v&&(v.style.display="flex"),f&&(f.style.display="block"),a&&(a.style.display="block"),L&&(L.style.display="block"))},a&&(a.onclick=function(){C&&(C.style.display="none"),v&&(v.style.display="none"),f&&(f.style.display="none"),a&&(a.style.display="none"),document.getElementById("ekyc-popup-1").style.display="block"}),document.getElementById("fileInputMobile").onchange=function(e){let i=new FileReader,n=this.files[0];i.onloadend=e=>{if(n){var o={};o.file=n,I(o,R,F,t),x.img_front=e.target.result,O.base64_doc_img=x,p()}document.getElementById("dropZone").style.display="none",document.getElementById("previewZone").style.display="block",document.getElementById("preview-img").src=i.result,document.getElementById("mobile-after-capture").style.display="flex",document.getElementById("tutorial-mobile").style.display="none",document.getElementById("upload-next-step").style.display="none"},i.readAsDataURL(n)},document.getElementById("fileInputMobile1").onchange=function(e){let i=new FileReader,n=this.files[0];i.onloadend=e=>{if(n){var o={};o.file=n,I(o,R,F,t),x.img_front=e.target.result,O.base64_doc_img=x,p()}document.getElementById("dropZone").style.display="none",document.getElementById("previewZone").style.display="block",document.getElementById("preview-img").src=i.result,document.getElementById("mobile-after-capture").style.display="flex",document.getElementById("tutorial-mobile").style.display="none"},i.readAsDataURL(n)},document.getElementById("fileInputWeb")&&(document.getElementById("fileInputWeb").onchange=function(e){document.getElementById("dropZoneWeb").style.display="none";let i=new FileReader,n=this.files[0];i.onloadend=e=>{if(n){var o={};o.file=n,I(o,R,F,t),x.img_front=e.target.result,O.base64_doc_img=x,p()}document.getElementById("dropZone").style.display="none",document.getElementById("previewZone").style.display="block",document.getElementById("preview-img").src=i.result,document.getElementById("mobile-after-capture").style.display="flex",document.getElementById("tutorial-mobile").style.display="none",document.getElementById("mobile-next-step").style.display="none"},i.readAsDataURL(n)}),document.getElementById("upload-next-step").onclick=function(){p(),setTimeout((function(){r(),i(O),localStorage.setItem("dat_doc",JSON.stringify(O.data_hash_document)),o&&o(O)}),3e3)},document.getElementById("mobile-next-step").onclick=function(){p(),setTimeout((function(){r(),i(O),localStorage.setItem("dat_doc",JSON.stringify(O.data_hash_document)),o&&o(O)}),3e3)},document.getElementById("tutorial-mobile").onclick=function(){document.getElementById("ekyc-popup-1").style.display="block",document.getElementById("dropZone").style.display="none",document.getElementById("ekyc_description_mobile1").style.display="none",document.getElementById("tutorial-mobile").style.display="none"},document.getElementById("step1-after-capture").style.display="none",f&&(f.style.display="none"),C&&(C.style.display="none"),T&&(T.style.display="none"),v&&(v.style.display="none"),document.getElementById("dropZone").style.display="none",document.getElementById("ekyc_description_mobile1").style.display="none",document.getElementById("tutorial-mobile").style.display="none",n(t.CAPTURE_IMAGE_STYLE)||(document.getElementById("ekyc_sdk_intergrated").style.background=t.LIST_CHOOSE_STYLE.background,document.getElementById("ekyc-popup-1").style.boxShadow=t.CAPTURE_IMAGE_STYLE.popup1_box_shadow,document.getElementById("header-title-pop").style.color=t.CAPTURE_IMAGE_STYLE.popup1_title_color,f&&(f.style.color=t.CAPTURE_IMAGE_STYLE.description1_color),v&&(v.style.background=t.CAPTURE_IMAGE_STYLE.capture_btn_background),u&&(u.style.color=t.CAPTURE_IMAGE_STYLE.capture_btn_color),b&&(b.src=t.CAPTURE_IMAGE_STYLE.capture_btn_icon),a&&(a.src=t.CAPTURE_IMAGE_STYLE.tutorial_btn_icon),document.getElementById("step1-re-capture").style.background=t.CAPTURE_IMAGE_STYLE.recapture_btn_background,document.getElementById("step1-re-capture").style.border=t.CAPTURE_IMAGE_STYLE.recapture_btn_border,document.getElementById("step1-re-capture-icon").src=t.CAPTURE_IMAGE_STYLE.recapture_btn_icon,document.getElementById("step1-re-capture-title").style.color=t.CAPTURE_IMAGE_STYLE.recapture_btn_color,document.getElementById("step1-next-step-icon").src=t.CAPTURE_IMAGE_STYLE.recapture_btn_icon,document.getElementById("step1-next-step-title").style.color=t.CAPTURE_IMAGE_STYLE.nextstep_btn_color,document.getElementById("step1-next-step").style.background=t.CAPTURE_IMAGE_STYLE.nextstep_btn_background,w&&(w.style.background="linear-gradient(rgb(253, 253, 253) 0%, rgb(222, 222, 222) 100%)")),n(t.MOBILE_STYLE)||(document.getElementById("img-capture-mobile").src=t.MOBILE_STYLE.mobile_capture_btn,document.getElementById("title-capture-mobile").style.color=t.MOBILE_STYLE.mobile_capture_desc_color,document.getElementById("tutorial-mobile").style.color=t.MOBILE_STYLE.mobile_tutorial_color,document.getElementById("mobile-recapture").style.background=t.MOBILE_STYLE.mobile_recapture_btn_background,document.getElementById("mobile-recapture").style.border=t.MOBILE_STYLE.mobile_recapture_btn_border,document.getElementById("mobile-recapture-icon").src=t.MOBILE_STYLE.mobile_recapture_btn_icon,document.getElementById("mobile-recapture-title").style.color=t.MOBILE_STYLE.mobile_recapture_btn_color,document.getElementById("mobile-next-step").style.background=t.MOBILE_STYLE.mobile_nextstep_btn_background,document.getElementById("mobile-next-step-icon").src=t.MOBILE_STYLE.mobile_nextstep_btn_icon,document.getElementById("mobile-next-step-title").style.color=t.MOBILE_STYLE.mobile_nextstep_btn_color),t.SHOW_HELP?L&&(L.style.display="none"):(window.screen.width<window.outerWidth?window.screen.width:window.outerWidth)<=1024?(document.getElementById("ekyc-popup-1").style.display="none",document.getElementById("dropZone").style.display="block",document.getElementById("ekyc_description_mobile1").style.display="block",document.getElementById("tutorial-mobile").style.display="block",f&&(f.style.display="none"),L&&(L.style.display="none")):(L&&(L.style.display="block"),C&&(C.style.display="block"),document.getElementById("ekyc-popup-1").style.display="none",v&&(v.style.display="flex"),f&&(f.style.display="block"),a&&(a.style.display="block"));m(document.getElementsByClassName("front_ekyc")[0].getElementsByTagName("var"),t.LANGUAGE)}function F(e,t,i,o){var c="https://ekyc.bionicmachine.co",s=document.getElementById("vnpt_ekyc"),l="<div class='step1-demo-ekyc' id='step1-demo-ekyc'><ul class='progressbar' id='progressbar'><div class='header-title'id='header-title'><var>FACE.PORTRAIT</var></div></ul>"+function(){var e="";t.SHOW_HELP&&(e="<img id='tutorial_btn' class='tutorial_btn' src='"+c+"/images/tutorial_btn.png'></img>");return e}()+_(t.USE_WEBCAM,t.USE_UPLOAD,(function(e){e&&(w=e)}))+E("FACE",t.USE_WEBCAM,t.USE_UPLOAD)+g(t.USE_WEBCAM,t.USE_UPLOAD)+"<div class='step1-after-capture' id='step1-after-capture'><div class='re-capture' id='step1-re-capture'><img id='step1-re-capture-icon' class='camera-icon' src='"+c+"/images/capture_icon_b.png'></img><span id='step1-re-capture-title'><var>FACE.TAKE_AGAIN</var></span></div><div class='next-step' id='step1-next-step'><img id='step1-next-step-icon' class='next-icon' src='"+c+"/images/next_icon_b.png'></img><span id='step1-next-step-title'><var>FACE.NEXT</var></span></div></div><div class='ekyc-popup' id='ekyc-popup-2'><div class='pu-header'><img class='close-btn' id='close-pop-2' width='32px' height='32px' src='"+c+"/images/remove_icon.png' /><div class='icons'><img id='popup2-icon-header' class='main-icons' src='"+c+"/images/portrait_icon.png' /></div><div class='content' id='popup2-title-header'><var>FACE.GUIDE_1</var></div></div><div class='pu-body'><ul><li><var>FACE.GUIDE_2</var></li><li><var>FACE.GUIDE_3</var></li><li><var>FACE.GUIDE_4</var></li></ul></div><div class='pu-footer'><div class='text-center'><img id='popup2-icon-warning1' class='main-icons' src='"+c+"/img/notice_face_1.png'/><p><var>NOTICE.NOTICE_1</var></p></div><div class='text-center'><img id='popup2-icon-warning2' class='main-icons' src='"+c+"/img/notice_face_2.png'/><p><var>NOTICE.NOTICE_2</var></p></div><div class='text-center'><img id='popup2-icon-warning3' class='main-icons' src='"+c+"/img/notice_face_3.png'/><p><var>NOTICE.NOTICE_3</var></p></div></div></div><div id='dropZone' class='id-card'><div class='capture-btn-wrapper'><img id='img-capture-mobile' class='img-capture-mobile' src='"+c+"/images/capure_mobile.png'></img><input id='fileInputMobile' type='file' accept='image/*' capture='environment'><div id='title-capture-mobile' class='title-capture-mobile'><var>FACE.TOUCH</var></div></div></div><div class='preview' id='previewZone'><img id='preview-img' src='' alt='preview' /></div><div class='ekyc_description' id='ekyc_description_mobile1' ><span><var>FACE.PLEASE</var></span><br/><span><var>FACE.GUIDE_5</var></span><br/><span> <var>FACE.GUIDE_6</var></span></div><div class='ekyc_description' id='ekyc_description_mobile2'><span><var>FACE.PLEASE</var></span><br/><span><var>FACE.GUIDE_7</var> </span><br/><span><var>FACE.GUIDE_8</var></span></div><div class='mobile-after-capture' id='mobile-after-capture'><div class='upload-btn-wrapper'><button class='btn-active' id='mobile-recapture'><img id='mobile-recapture-icon' class='camera-icon' src='"+c+"/images/capture_icon_b.png'></img><span id='mobile-recapture-title'><var>FACE.TAKE_PHOTO</var></span></button><input id='fileInputMobile1' type='file' accept='image/*' capture='environment'></div><div class='next-step' id='upload-next-step'><img id='upload-next-step-icon' class='next-icon' src='"+c+"/images/next_icon_b.png'></img><span id='upload-next-step-title'><var>FACE.NEXT</var></span></div><div class='next-step' id='mobile-next-step'><img id='mobile-next-step-icon' class='next-icon' src='"+c+"/images/next_icon_b.png'></img><span id='mobile-next-step-title'><var>FACE.NEXT</var></span></div></div><div class='tutorial-mobile'><a id='tutorial-mobile'><var>FACE.GUIDE</var></a></div></div>";s.insertAdjacentHTML("beforeend",l);var d=document.getElementById("video-block"),a=document.getElementById("tutorial_btn"),v=document.getElementById("ekyc_description2"),u=document.getElementById("take-picture-step1"),b=document.getElementById("webcame-zone"),f=document.getElementById("take-picture-step1-title"),k=document.getElementById("take-picture-step1-img"),B=document.getElementById("dropZoneWeb"),A={type_document:e},S={},w=null;function L(i,n){var o={};let c={};c.hashFront=localStorage.getItem("dat_doc")?JSON.parse(localStorage.getItem("dat_doc")).hash0:null,c.hashFace=i.object.hash,o.currentHash=i.object.hash,o.dataImage=n,o.typeDocument=e,o.dataHash=c,t.CHECK_LIVENESS_FACE&&T(o,K,W,t),t.CHECK_MASKED_FACE&&O(o,q,J,t),t.COMPARE_FACE&&N(o,R,F,t)}function M(e){console.log("uploadFileFail",e)}function j(){r(),document.getElementById("step1-demo-ekyc").style.display="block"}function U(i,n){var o={};o.currentHash=i.object.hash,o.dataImage=n,o.typeDocument=e,t.CHECK_LIVENESS_FACE?C(o,D,H,t):j(),t.CHECK_MASKED_FACE&&x(o,G,P,t)}function R(e){A.compare=e}function F(e){A.compare=JSON.parse(e)}function D(e){A.liveness_face=e,j()}function H(e){A.liveness_face=JSON.parse(e),j()}function G(e){A.masked=e}function P(e){A.masked=JSON.parse(e)}function Y(e){console.log("mobileUploadFileFail",e),j()}function K(e){A.liveness_face=e}function W(e){A.liveness_face=JSON.parse(e)}function q(e){A.masked=e}function J(e){A.masked=JSON.parse(e)}u&&u.addEventListener("click",(function(){var e=y(),i=document.getElementById("canvas-border");a&&(a.style.display="none"),canvas.style.display="block",i.style.display="block",d.style.display="none",this.style.display="none",document.getElementById("step1-after-capture").style.display="flex",I(e,L,M,t),S.img_face=e.image_base64,A.base64_face_img=S})),document.getElementById("step1-re-capture").addEventListener("click",(function(){document.getElementById("step1-after-capture").style.display="none",d.style.display="block",u.style.display="flex",a&&(a.style.display="block"),function(){let e="";document.getElementById("canvas-border").remove(),e="<div id='canvas-border'><canvas id='canvas' style='overflow:auto; display:none'></canvas></div>",b&&b.insertAdjacentHTML("beforeend","<div id='canvas-border'><canvas id='canvas' style='overflow:auto; display:none'></canvas></div>"),document.getElementById("canvas-border").style.display="none"}()})),document.getElementById("fileInputWeb")&&(document.getElementById("fileInputWeb").onchange=function(e){document.getElementById("dropZoneWeb").style.display="none";let i=new FileReader,n=this.files[0];i.onloadend=e=>{if(n){var o={};o.file=n,I(o,U,Y,t),S.img_face=e.target.result,A.base64_face_img=S,p()}document.getElementById("dropZone").style.display="none",document.getElementById("previewZone").style.display="block",document.getElementById("preview-img").src=i.result,document.getElementById("mobile-after-capture").style.display="flex",document.getElementById("tutorial-mobile").style.display="none",document.getElementById("mobile-next-step").style.display="none"},i.readAsDataURL(n)}),document.getElementById("step1-next-step").addEventListener("click",(function(){p(),h(w),setTimeout((function(){r(),i(A),o&&o(A)}),2e3)})),document.getElementById("upload-next-step").onclick=function(){p(),setTimeout((function(){r(),i(A),o&&o(A)}),2e3)},document.getElementById("close-pop-2").onclick=function(){(window.screen.width<window.outerWidth?window.screen.width:window.outerWidth)<=1024?(document.getElementById("ekyc-popup-2").style.display="none",document.getElementById("dropZone").style.display="block",document.getElementById("ekyc_description_mobile2").style.display="block",document.getElementById("tutorial-mobile").style.display="block"):(b&&(b.style.display="block"),document.getElementById("ekyc-popup-2").style.display="none",u&&(u.style.display="flex"),v&&(v.style.display="block"),a&&(a.style.display="block"),B&&(B.style.display="block"))},a&&(a.onclick=function(){b&&(b.style.display="none"),u&&(u.style.display="none"),v&&(v.style.display="none"),a&&(a.style.display="none"),document.getElementById("ekyc-popup-2").style.display="block"}),document.getElementById("fileInputMobile").onchange=function(e){let i=new FileReader,n=this.files[0];i.onloadend=e=>{if(n){var o={};o.file=n,I(o,U,Y,t),S.img_face=e.target.result,A.base64_face_img=S,p()}document.getElementById("dropZone").style.display="none",document.getElementById("previewZone").style.display="block",document.getElementById("preview-img").src=i.result,document.getElementById("mobile-after-capture").style.display="flex",document.getElementById("tutorial-mobile").style.display="none",document.getElementById("upload-next-step").style.display="none"},i.readAsDataURL(n)},document.getElementById("fileInputMobile1").onchange=function(e){let i=new FileReader,n=this.files[0];i.onloadend=e=>{if(n){var o={};o.file=n,I(o,U,Y,t),S.img_face=e.target.result,A.base64_face_img=S,p()}document.getElementById("dropZone").style.display="none",document.getElementById("previewZone").style.display="block",document.getElementById("preview-img").src=i.result,document.getElementById("mobile-after-capture").style.display="flex",document.getElementById("tutorial-mobile").style.display="none"},i.readAsDataURL(n)},document.getElementById("mobile-next-step").onclick=function(){p(),setTimeout((function(){r(),i(A),o&&o(A)}),2e3)},document.getElementById("tutorial-mobile").onclick=function(){document.getElementById("ekyc-popup-2").style.display="block",document.getElementById("dropZone").style.display="none",document.getElementById("ekyc_description_mobile2").style.display="none",document.getElementById("tutorial-mobile").style.display="none"},document.getElementById("step1-after-capture").style.display="none",b&&(b.style.display="none"),v&&(v.style.display="none"),u&&(u.style.display="none"),document.getElementById("dropZone").style.display="none",document.getElementById("ekyc_description_mobile1").style.display="none",document.getElementById("tutorial-mobile").style.display="none",n(t.CAPTURE_IMAGE_STYLE)||(document.getElementById("ekyc_sdk_intergrated").style.background=t.LIST_CHOOSE_STYLE.background,v&&(v.style.color=t.CAPTURE_IMAGE_STYLE.description1_color),u&&(u.style.background=t.CAPTURE_IMAGE_STYLE.capture_btn_background),f&&(f.style.color=t.CAPTURE_IMAGE_STYLE.capture_btn_color),k&&(k.src=t.CAPTURE_IMAGE_STYLE.capture_btn_icon),a&&(a.src=t.CAPTURE_IMAGE_STYLE.tutorial_btn_icon),document.getElementById("step1-re-capture").style.background=t.CAPTURE_IMAGE_STYLE.recapture_btn_background,document.getElementById("step1-re-capture").style.border=t.CAPTURE_IMAGE_STYLE.recapture_btn_border,document.getElementById("step1-re-capture-icon").src=t.CAPTURE_IMAGE_STYLE.recapture_btn_icon,document.getElementById("step1-re-capture-title").style.color=t.CAPTURE_IMAGE_STYLE.recapture_btn_color,document.getElementById("step1-next-step-icon").src=t.CAPTURE_IMAGE_STYLE.recapture_btn_icon,document.getElementById("step1-next-step-title").style.color=t.CAPTURE_IMAGE_STYLE.nextstep_btn_color,document.getElementById("step1-next-step").style.background=t.CAPTURE_IMAGE_STYLE.nextstep_btn_background,document.getElementById("ekyc-popup-2").style.boxShadow=t.CAPTURE_IMAGE_STYLE.popup2_box_shadow,document.getElementById("popup2-title-header").style.color=t.CAPTURE_IMAGE_STYLE.popup2_title_header_color,document.getElementById("popup2-icon-header").src=t.CAPTURE_IMAGE_STYLE.popup2_icon_header,t.CAPTURE_IMAGE_STYLE.popup2_icon_warning1&&(document.getElementById("popup2-icon-warning1").src=t.CAPTURE_IMAGE_STYLE.popup2_icon_warning1),t.CAPTURE_IMAGE_STYLE.popup2_icon_warning2&&(document.getElementById("popup2-icon-warning2").src=t.CAPTURE_IMAGE_STYLE.popup2_icon_warning2),t.CAPTURE_IMAGE_STYLE.popup2_icon_warning3&&(document.getElementById("popup2-icon-warning3").src=t.CAPTURE_IMAGE_STYLE.popup2_icon_warning3)),n(t.MOBILE_STYLE)||(document.getElementById("popup2-icon-header").src=t.MOBILE_STYLE.mobile_popup2_icon_header,document.getElementById("ekyc_description_mobile1").style.color="black",document.getElementById("ekyc_description_mobile2").style.color="black",document.getElementById("img-capture-mobile").src=t.MOBILE_STYLE.mobile_capture_btn,document.getElementById("title-capture-mobile").style.color=t.MOBILE_STYLE.mobile_capture_desc_color,document.getElementById("tutorial-mobile").style.color=t.MOBILE_STYLE.mobile_tutorial_color,document.getElementById("mobile-recapture").style.background=t.MOBILE_STYLE.mobile_recapture_btn_background,document.getElementById("mobile-recapture").style.border=t.MOBILE_STYLE.mobile_recapture_btn_border,document.getElementById("mobile-recapture-icon").src=t.MOBILE_STYLE.mobile_recapture_btn_icon,document.getElementById("mobile-recapture-title").style.color=t.MOBILE_STYLE.mobile_recapture_btn_color,document.getElementById("mobile-next-step").style.background=t.MOBILE_STYLE.mobile_nextstep_btn_background,document.getElementById("mobile-next-step-icon").src=t.MOBILE_STYLE.mobile_nextstep_btn_icon,document.getElementById("mobile-next-step-title").style.color=t.MOBILE_STYLE.mobile_nextstep_btn_color),t.SHOW_HELP?B&&(B.style.display="none"):(window.screen.width<window.outerWidth?window.screen.width:window.outerWidth)<=1024?(document.getElementById("ekyc-popup-2").style.display="none",document.getElementById("dropZone").style.display="block",document.getElementById("ekyc_description_mobile2").style.display="block",document.getElementById("tutorial-mobile").style.display="block",B&&(B.style.display="none")):(B&&(B.style.display="block"),b&&(b.style.display="block"),document.getElementById("ekyc-popup-2").style.display="none",u&&(u.style.display="flex"),v&&(v.style.display="block"),a&&(a.style.display="block"));m(document.getElementById("step1-demo-ekyc").getElementsByTagName("var"),t.LANGUAGE)}function D(e,t,i,n){var c=null,d=document.getElementById("vnpt_ekyc"),y=null,g="<div class='step1-demo-ekyc' id='step1-demo-ekyc'><div class='header-title'id='header-title'><var>FACE.PORTRAIT</var></div>"+b((function(e){e&&(y=e)}))+"</div>";d.insertAdjacentHTML("beforeend",g);var _={type_document:e},E={};async function k(e,t){return new Promise((function(i){var n=document.getElementById("video"),o=document.createElement("canvas");o.width=n.videoWidth*e,o.height=n.videoHeight*t;var c=new Image;c.crossOrigin="anonymous";let s=(1-e)/2*n.videoWidth,l=(1-t)/2*n.videoHeight,d=n.videoWidth*e,a=n.videoHeight,r=0,p=0,m=n.videoWidth*e,v=n.videoHeight;d<0&&(s+=d,d=Math.abs(d)),a<0&&(l+=a,a=Math.abs(a)),m<0&&(r+=m,m=Math.abs(m)),v<0&&(p+=v,v=Math.abs(v));const u=Math.max(s,0),y=Math.min(s+d,n.videoWidth),g=Math.max(l,0),_=Math.min(l+a,n.videoHeight),b=m/d,E=v/a;o.getContext("2d").drawImage(n,u,g,y-u,_-g,s<0?r-s*b:r,l<0?p-l*E:p,(y-u)*b,(_-g)*E),c.src=o.toDataURL("image/png"),c.width=o.width,c.height=o.height,i(o)}))}var B,T=!0,C=0,A="FAR",S={far_img:null,near_img:null};!async function e(){var d,m,g,b,B,w,L="vi"==t.LANGUAGE?"Đảm bảo khuôn mặt vừa khung hình":"Make sure the face fits in the frame",O={FIT:"vi"==t.LANGUAGE?"Giữ vững khuôn mặt":"Keep your face steady",TO_THE_RIGHT:L,TO_THE_LEFT:L,TO_THE_BOTTOM:L,TO_THE_TOP:L,NOT_STRAIGHT:L,TOO_FAR:"vi"==t.LANGUAGE?"Gần hơn nữa":"A little closer",TOO_NEAR:"vi"==t.LANGUAGE?"Xa hơn nữa":"A little further",INVALID:L,NO_FACE:L,"Image format error":L};if(T){let L=null,R=null;var N=0;if((window.screen.width<window.outerWidth?window.screen.width:window.outerWidth)<1024?("FAR"==A&&(N=.6*1.5*.75,L=await k(N,.6)),"NEAR"==A&&(N=1.35,L=await k(N,1)),R=await FaceVNPTBrowserSDK.processFace(L,2)):("FAR"==A&&(L=await k(.275,.67)),"NEAR"==A&&(L=await k(.38,1)),R=await FaceVNPTBrowserSDK.processFace(L,1)),document.getElementById("notice-face").innerHTML=O[R],setTimeout(()=>{requestAnimationFrame(e)},250),"FIT"===R?C++:C=0,C>3&&"FAR"===A){c.playSegments([0,100],!0),C=0,A="NEAR",T=!1;let i=await k(1,1),n={file:a(i.toDataURL())};E.img_face_far=i.toDataURL(),_.base64_face_img=E,I(n,(function(e){if(S.far_img=e.object.hash,t.COMPARE_FACE){let i={},n={};i.hashFront=localStorage.getItem("dat_doc")?JSON.parse(localStorage.getItem("dat_doc")).hash0:null,i.hashFace=e.object.hash,n.dataHash=i,M(n,e=>{_.compare=e},e=>{_.compare=JSON.parse(e)},t)}if(t.CHECK_MASKED_FACE){let i={};i.hashFace=e.object.hash,x(i,e=>{_.masked=e},e=>{_.masked=JSON.parse(e)},t)}}),e=>{console.log("loi upload file img_far",e)},t),setTimeout(()=>{T=!0,e()},3e3)}if(C>3&&"NEAR"===A){FaceVNPTBrowserSDK.free(),T=!1,c.playSegments([120,180],!0);let e=await k(1,1),a=(d=e.width,m=e.height,g=e.toDataURL("image/jpeg"),b=s(g,B=d,w=m),document.getElementById("canvas-border").style.height=w+"px",{im_w:B,optimizer:l({image_type:"jpeg",width:B,height:w,brand:"wb",date_taken:v(new Date),soft_ware:"vnpt_ekyc"},"3cb7ecbd-2343-4272-b2f1-cdb12983ecc0"),current_height:w,file:u(b),image_base64:b});function j(e){setTimeout((function(){r(),h(y),_.liveness_face=e,i(_),n&&n(_)}),2e3)}function U(e){setTimeout((function(){r(),h(y),_.liveness_face=JSON.parse(e),i(_),n&&n(_)}),2e3)}E.img_face_near=e.toDataURL(),_.base64_face_img=E,p(),I(a,(function(e,c){S.near_img=e.object.hash,S.dataImage=c,t.CHECK_LIVENESS_FACE?function(e,t,i,n){try{var c=(n.BACKEND_URL.length>0?n.BACKEND_URL:f)+"ai/v1/web/face/liveness-3d",s={far_img:e.far_img,near_img:e.near_img,scan3d:"20210112-1f2d4bb2-6cd4-11ea-a8e2-77dd23bcf353/IDG01_a99a7e80-5485-11eb-9be0-a77d0f4705bc",token:"sdk-web-e41-1b6d-45c9-9",client_session:"web-ic-vnpt"};o(c,{key:"Content-Type",value:"application/json"},JSON.stringify(s),e=>{t(JSON.parse(e))},e=>{i(e)},n)}catch(e){}}(S,j,U,t):setTimeout((function(){r(),h(y),i(_),n&&n(_)}),2e3)}),e=>{r(),console.log("loi upload file img_near",e)},t)}}}(),B=window.screen.width<window.outerWidth?window.screen.width:window.outerWidth,c=B<1024?bodymovin.loadAnimation({container:document.getElementById("animation"),path:"./animation/full_3d.json",renderer:"svg",loop:!1,autoplay:!1,name:"oval"}):bodymovin.loadAnimation({container:document.getElementById("animation"),path:"https://ekyc.bionicmachine.co/animation/web_oval.json",renderer:"svg",loop:!1,autoplay:!1,name:"oval"}),bodymovin.loadAnimation({container:document.getElementById("notice-ani"),path:"https://ekyc.bionicmachine.co/animation/caution.json",renderer:"svg",loop:!0,autoplay:!0,name:"caution"});m(document.getElementById("step1-demo-ekyc").getElementsByTagName("var"),t.LANGUAGE)}function H(e,t,i,o){var c=document.getElementById("vnpt_ekyc"),s="https://ekyc.bionicmachine.co",l="<div class='step1-demo-ekyc front_back_ekyc' id='step1-demo-ekyc'><ul class='progressbar' id='progressbar'><div class='header-title' id='header-title-front'><var>FRONT.FRONT</var></div><div class='header-title' id='header-title-back'><var>FRONT.BACK</var></div></ul>"+function(){var e="";t.SHOW_HELP&&(e="<img id='tutorial_btn' class='tutorial_btn' src='"+s+"/images/tutorial_btn.png'></img>");return e}()+_(t.USE_WEBCAM,t.USE_UPLOAD,(function(e){e&&(x=e)}))+E("DOCUMENT",t.USE_WEBCAM,t.USE_UPLOAD)+g(t.USE_WEBCAM,t.USE_UPLOAD)+"<div class='step1-after-capture' id='step1-after-capture'><div class='re-capture' id='step1-re-capture'><img id='step1-re-capture-icon' class='camera-icon' src='"+s+"/images/capture_icon_b.png'></img><span id='step1-re-capture-title'><var>FACE.TAKE_AGAIN</var></span></div><div class='next-step' id='step1-next-step'><img id='step1-next-step-icon' class='next-icon' src='"+s+"/images/next_icon_b.png'></img><span id='step1-next-step-title'><var>FACE.NEXT</var></span></div></div><div class='ekyc-popup' id='ekyc-popup-1'><div class='pu-header'><img class='close-btn' id='close-pop-1' width='32px' height='32px' src='"+s+"/images/remove_icon.png' /><div class='icons'><img class='main-icons' src='"+s+"/images/touch_cmt.png' /></div><div class='content' id='header-title-pop'><var>FRONT.GUIDE_1</var></div></div><div class='pu-body'><ul><li><var>FRONT.GUIDE_2</var></li><li><var>FRONT.GUIDE_3</var></li></ul></div><div class='pu-footer'><div class='text-center'><img class='main-icons' src='"+s+"/img/notice_1.png'/><p><var>NOTICE.NOTICE_1</var></p></div><div class='text-center'><img class='main-icons' src='"+s+"/img/notice_2.png'/><p><var>NOTICE.NOTICE_2</var></p></div><div class='text-center'><img class='main-icons' src='"+s+"/img/notice_3.png'/><p><var>NOTICE.NOTICE_3</var></p></div></div></div><div id='dropZone' class='id-card'><div class='capture-btn-wrapper'><img id='img-capture-mobile' class='img-capture-mobile' src='"+s+"/images/capure_mobile.png'></img><input id='fileInputMobile' type='file' accept='image/*' capture='environment'><div id='title-capture-mobile' class='title-capture-mobile'><var>FACE.TOUCH</var></div></div></div><div class='preview' id='previewZone'><img id='preview-img' src='' alt='preview' /></div><div class='ekyc_description' id='ekyc_description_mobile1' ><span><var>FACE.PLEASE</var></span><br/><span><var>FACE.GUIDE_5</var></span><br/><span> <var>FACE.GUIDE_6</var></span></div><div class='ekyc_description' id='ekyc_description_mobile2'><span><var>FACE.PLEASE</var></span><br/><span><var>FACE.GUIDE_7</var> </span><br/><span><var>FACE.GUIDE_8</var></span></div><div class='mobile-after-capture' id='mobile-after-capture'><div class='upload-btn-wrapper'><button class='btn-active' id='mobile-recapture'><img id='mobile-recapture-icon' class='camera-icon' src='"+s+"/images/capture_icon_b.png'></img><span id='mobile-recapture-title'><var>FACE.TAKE_AGAIN</var></span></button><input id='fileInputMobile1' type='file' accept='image/*' capture='environment'></div><div class='next-step' id='upload-next-step'><img id='upload-next-step-icon' class='next-icon' src='"+s+"/images/next_icon_b.png'></img><span id='upload-next-step-title'><var>FACE.NEXT</var></span></div><div class='next-step' id='mobile-next-step'><img id='mobile-next-step-icon' class='next-icon' src='"+s+"/images/next_icon_b.png'></img><span id='mobile-next-step-title'><var>FACE.NEXT</var></span></div></div><div class='tutorial-mobile'><a id='tutorial-mobile'><var>FACE.GUIDE</var></a></div></div>";c.insertAdjacentHTML("beforeend",l);var d=document.getElementById("video-block"),a=document.getElementById("tutorial_btn"),v=0,u={},b=document.getElementById("take-picture-step1"),f=document.getElementById("ekyc_description"),T=document.getElementById("webcame-zone"),C=document.getElementById("ekyc_description2"),A=document.getElementById("take-picture-step1-title"),S=document.getElementById("take-picture-step1-img"),O=document.getElementById("dropZoneWeb"),x=null,N={type_document:e},M={};function j(e){e}function U(i,n){var o={};o.currentHash=i.object.hash,o.dataImage=n,o.typeDocument=e,j(o),u["hash"+v]=i.object.hash,o.dataHash=u,0===v&&(t.CHECK_LIVENESS_CARD?k(o,G,P,t):R()),1===v&&(t.CHECK_LIVENESS_CARD?k(o,G,P,t):R(),N.data_hash_document=u,w(o,W,q,t))}function R(){r(),document.getElementById("step1-demo-ekyc").style.display="block"}function F(i,n){var o={};o.currentHash=i.object.hash,o.dataImage=n,o.typeDocument=e,u["hash"+v]=i.object.hash,o.dataHash=u,0===v&&(t.CHECK_LIVENESS_CARD?B(o,Y,K,t):R()),1===v&&(t.CHECK_LIVENESS_CARD?B(o,Y,K,t):R(),N.data_hash_document=u,L(o,J,Z,t))}function D(e){console.log("mobileUploadFileFail",e),R()}function H(e){console.log("uploadFileFail",e),R()}function G(e){0===v?N.liveness_card_front=e:N.liveness_card_back=e,R()}function P(e){0===v?N.liveness_card_front=JSON.parse(e):N.liveness_card_back=JSON.parse(e),R()}function Y(e){0===v?N.liveness_card_front=e:N.liveness_card_back=e,R()}function K(e){0===v?N.liveness_card_front=JSON.parse(e):N.liveness_card_back=JSON.parse(e),R()}function W(e){N.ocr=e}function q(e){N.ocr=JSON.parse(e)}function J(e){N.ocr=e}function Z(e){N.ocr=JSON.parse(e)}function V(){let e="";document.getElementById("canvas-border").remove(),e="<div id='canvas-border'><canvas id='canvas' style='overflow:auto; display:none'></canvas></div>",T&&T.insertAdjacentHTML("beforeend","<div id='canvas-border'><canvas id='canvas' style='overflow:auto; display:none'></canvas></div>"),document.getElementById("canvas-border").style.display="none"}b&&b.addEventListener("click",(function(){let e=y(),i=document.getElementById("canvas-border");a&&(a.style.display="none"),canvas.style.display="block",i.style.display="block",d.style.display="none",this.style.display="none",document.getElementById("step1-after-capture").style.display="flex",I(e,U,H,t),0===v?M.img_front=e.image_base64:M.img_back=e.image_base64,N.base64_doc_img=M,p()})),document.getElementById("fileInputMobile").onchange=function(e){let i=new FileReader,n=this.files[0];i.onloadend=e=>{if(n){var o={};o.file=n,I(o,F,D,t),0===v?M.img_front=e.target.result:M.img_back=e.target.result,N.base64_doc_img=M,p()}document.getElementById("dropZone").style.display="none",document.getElementById("previewZone").style.display="block",document.getElementById("preview-img").src=i.result,document.getElementById("mobile-after-capture").style.display="flex",document.getElementById("tutorial-mobile").style.display="none",document.getElementById("upload-next-step").style.display="none"},i.readAsDataURL(n)},document.getElementById("fileInputMobile1").onchange=function(e){let i=new FileReader,n=this.files[0];i.onloadend=e=>{if(n){var o={};o.file=n,I(o,F,D,t),0===v?M.img_front=e.target.result:M.img_back=e.target.result,N.base64_doc_img=M,p()}document.getElementById("dropZone").style.display="none",document.getElementById("previewZone").style.display="block",document.getElementById("preview-img").src=i.result,document.getElementById("mobile-after-capture").style.display="flex",document.getElementById("tutorial-mobile").style.display="none"},i.readAsDataURL(n)},document.getElementById("fileInputWeb")&&(document.getElementById("fileInputWeb").onchange=function(e){document.getElementById("dropZoneWeb").style.display="none";let i=new FileReader,n=this.files[0];i.onloadend=e=>{if(n){var o={};o.file=n,I(o,F,D,t),0===v?M.img_front=e.target.result:M.img_back=e.target.result,N.base64_doc_img=M,p()}document.getElementById("dropZone").style.display="none",document.getElementById("previewZone").style.display="block",document.getElementById("preview-img").src=i.result,document.getElementById("mobile-after-capture").style.display="flex",document.getElementById("tutorial-mobile").style.display="none",document.getElementById("mobile-next-step").style.display="none"},i.readAsDataURL(n)}),document.getElementById("step1-re-capture").addEventListener("click",(function(){document.getElementById("step1-after-capture").style.display="none",d.style.display="block",b&&(b.style.display="flex"),a&&(a.style.display="block"),V()})),document.getElementById("step1-next-step").addEventListener("click",(function(){v<1?(v++,document.getElementById("step1-after-capture").style.display="none",d.style.display="block",b&&(b.style.display="flex"),a&&(a.style.display="block"),document.getElementById("header-title-front").style.display="none",document.getElementById("header-title-back").style.display="block",V()):(p(),h(x),setTimeout((function(){r(),i(N),localStorage.setItem("dat_doc",JSON.stringify(N.data_hash_document)),o&&o(N)}),3e3))})),document.getElementById("mobile-next-step").onclick=function(){v<1?(v++,document.getElementById("dropZone").style.display="block",document.getElementById("tutorial-mobile").style.display="block",document.getElementById("previewZone").style.display="none",document.getElementById("mobile-after-capture").style.display="none",document.getElementById("header-title-front").style.display="none",document.getElementById("header-title-back").style.display="block"):(p(),setTimeout((function(){r(),i(N),localStorage.setItem("dat_doc",JSON.stringify(N.data_hash_document)),o&&o(N)}),3e3))},document.getElementById("upload-next-step").onclick=function(){v<1?(v++,document.getElementById("previewZone").style.display="none",document.getElementById("mobile-after-capture").style.display="none",document.getElementById("dropZoneWeb").style.display="block",document.getElementById("header-title-front").style.display="none",document.getElementById("header-title-back").style.display="block"):(p(),setTimeout((function(){r(),i(N),localStorage.setItem("dat_doc",JSON.stringify(N.data_hash_document)),o&&o(N)}),3e3))},document.getElementById("close-pop-1").onclick=function(){(window.screen.width<window.outerWidth?window.screen.width:window.outerWidth)<=1024?(document.getElementById("ekyc-popup-1").style.display="none",document.getElementById("dropZone").style.display="block",document.getElementById("ekyc_description_mobile1").style.display="block",document.getElementById("tutorial-mobile").style.display="block",f&&(f.style.display="none")):(T&&(T.style.display="block"),document.getElementById("ekyc-popup-1").style.display="none",b&&(b.style.display="flex"),f&&(f.style.display="block"),a&&(a.style.display="block"),O&&(O.style.display="block"))},a&&(a.onclick=function(){T&&(T.style.display="none"),b&&(b.style.display="none"),f&&(f.style.display="none"),a&&(a.style.display="none"),document.getElementById("ekyc-popup-1").style.display="block"}),document.getElementById("tutorial-mobile").onclick=function(){document.getElementById("ekyc-popup-1").style.display="block",document.getElementById("dropZone").style.display="none",document.getElementById("ekyc_description_mobile1").style.display="none",document.getElementById("tutorial-mobile").style.display="none"},document.getElementById("step1-after-capture").style.display="none",f&&(f.style.display="none"),T&&(T.style.display="none"),C&&(C.style.display="none"),b&&(b.style.display="none"),document.getElementById("dropZone").style.display="none",document.getElementById("ekyc_description_mobile1").style.display="none",document.getElementById("tutorial-mobile").style.display="none",n(t.CAPTURE_IMAGE_STYLE)||(document.getElementById("ekyc_sdk_intergrated").style.background=t.LIST_CHOOSE_STYLE.background,document.getElementById("header-title-back").style.display="none",document.getElementById("ekyc-popup-1").style.boxShadow=t.CAPTURE_IMAGE_STYLE.popup1_box_shadow,document.getElementById("header-title-pop").style.color=t.CAPTURE_IMAGE_STYLE.popup1_title_color,f&&(f.style.color=t.CAPTURE_IMAGE_STYLE.description1_color),b&&(b.style.background=t.CAPTURE_IMAGE_STYLE.capture_btn_background),A&&(A.style.color=t.CAPTURE_IMAGE_STYLE.capture_btn_color),S&&(S.src=t.CAPTURE_IMAGE_STYLE.capture_btn_icon),a&&(a.src=t.CAPTURE_IMAGE_STYLE.tutorial_btn_icon),document.getElementById("step1-re-capture").style.background=t.CAPTURE_IMAGE_STYLE.recapture_btn_background,document.getElementById("step1-re-capture").style.border=t.CAPTURE_IMAGE_STYLE.recapture_btn_border,document.getElementById("step1-re-capture-icon").src=t.CAPTURE_IMAGE_STYLE.recapture_btn_icon,document.getElementById("step1-re-capture-title").style.color=t.CAPTURE_IMAGE_STYLE.recapture_btn_color,document.getElementById("step1-next-step-icon").src=t.CAPTURE_IMAGE_STYLE.recapture_btn_icon,document.getElementById("step1-next-step-title").style.color=t.CAPTURE_IMAGE_STYLE.nextstep_btn_color,document.getElementById("step1-next-step").style.background=t.CAPTURE_IMAGE_STYLE.nextstep_btn_background),n(t.MOBILE_STYLE)||(document.getElementById("img-capture-mobile").src=t.MOBILE_STYLE.mobile_capture_btn,document.getElementById("title-capture-mobile").style.color=t.MOBILE_STYLE.mobile_capture_desc_color,document.getElementById("tutorial-mobile").style.color=t.MOBILE_STYLE.mobile_tutorial_color,document.getElementById("mobile-recapture").style.background=t.MOBILE_STYLE.mobile_recapture_btn_background,document.getElementById("mobile-recapture").style.border=t.MOBILE_STYLE.mobile_recapture_btn_border,document.getElementById("mobile-recapture-icon").src=t.MOBILE_STYLE.mobile_recapture_btn_icon,document.getElementById("mobile-recapture-title").style.color=t.MOBILE_STYLE.mobile_recapture_btn_color,document.getElementById("mobile-next-step").style.background=t.MOBILE_STYLE.mobile_nextstep_btn_background,document.getElementById("mobile-next-step-icon").src=t.MOBILE_STYLE.mobile_nextstep_btn_icon,document.getElementById("mobile-next-step-title").style.color=t.MOBILE_STYLE.mobile_nextstep_btn_color),t.SHOW_HELP?O&&(O.style.display="none"):(window.screen.width<window.outerWidth?window.screen.width:window.outerWidth)<=1024?(document.getElementById("ekyc-popup-1").style.display="none",document.getElementById("dropZone").style.display="block",document.getElementById("ekyc_description_mobile1").style.display="block",document.getElementById("tutorial-mobile").style.display="block",f&&(f.style.display="none"),O&&(O.style.display="none")):(O&&(O.style.display="block"),T&&(T.style.display="block"),document.getElementById("ekyc-popup-1").style.display="none",b&&(b.style.display="flex"),f&&(f.style.display="block"),a&&(a.style.display="block"));m(document.getElementsByClassName("front_back_ekyc")[0].getElementsByTagName("var"),t.LANGUAGE)}function G(e){function t(e,t){if(t){var i=t?t.split("|"):"";return e==i[0]||e==i[1]?"https://ekyc-web.icenter.ai/img/checked.svg":"https://ekyc-web.icenter.ai/img/fail.svg"}}function i(e,t){if(t){var i=t?t.split("|"):"";return e.toLocaleLowerCase()==i[2].toLocaleLowerCase()?"https://ekyc-web.icenter.ai/img/checked.svg":"https://ekyc-web.icenter.ai/img/fail.svg"}}function o(e,t){if(t){var i=t?t.split("|"):null,n="";return e.split("/").join("")===i[3]?(console.log("true"),n="https://ekyc-web.icenter.ai/img/checked.svg"):n="https://ekyc-web.icenter.ai/img/fail.svg",n}}!function(){console.log("ket-qua",e);var c=document.getElementById("vnpt_ekyc"),s='<div class="step-4" id="ekyc-step-4"><ul class="progressbar" id="progressbar" style="width:45%;margin-bottom: 27px"><li class="complete" id="progress-step0">Mặt trước</li><li  class="complete" id="progress-step1">Mặt sau</li><li  class="complete" id="progress-step2">Chân dung</li><li  class="complete" id="progress-step3">Kết quả</li></ul><div class="info-wrap"><div class="tabs"><div id="validation" class="tab"><ul class="nav nav-tabs"><li id="info-tab"><div>Thông tin cá nhân</div></li><li id="validation-tab" class="active"><div>Validation</div></li><li id="qr-code-tab"><div>QR Code</div></li></ul><div class="block-left" id="tab2-content"><div class="item"><div class="label-cus">Loại giấy tờ</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?'<div style="color:red;">Không hợp lệ</div>':'<div style="color:green;">Hợp lệ</div>')+'</div></div><div class="item"><div class="label-cus">Mặt trước, sau giấy tờ</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?function(e){let t="";t=n(e&&e.errors.find(e=>"Dau vao mat truoc va sau khong cung loai"==e))?"":'<div style="color:red;">Không cùng loại</div>';return t}(e.orc_err):function(e,t){let i="";i=e==t?'<div style="color: green;">Cùng loại</div>':'<div style="color: red;">Không cùng loại</div>';return i}(e.ocr.object.back_type_id,e.ocr.object.type_id))+'</div></div><div class="item"><div class="label-cus">Giấy tờ mờ nhòe/mất góc</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":function(e){let t="";t=n(e)?'<div style="color:green;">Không</div>':'<div style="color:red;">Có</div>';return t}(e.ocr.object.warning))+'</div></div><div class="item"><div class="label-cus">Chất lượng số ID</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":function(e){let t=JSON.parse(e);if(n(t))return'<div style="color: red;">Mờ nhòe</div>';for(var i=0;i<t.length;i++)if(t[i]<.93)return'<div style="color: red;">Mờ nhòe</div>';return'<div style="color: green;">Tốt</div>'}(e.ocr.object.id_probs))+'</div></div><div class="item"><div class="label-cus">Chất lượng ngày cấp</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":function(e){if(e<.93)return'<div style="color: red;">Mờ nhòe</div>';return'<div style="color: green;">Tốt</div>'}(e.ocr.object.issue_date_prob))+'</div></div><div class="item"><div class="label-cus">Hạn giấy tờ</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":function(e){let t="";t="no"==e?'<div style="color:green;">Còn hạn</div>':'<div style="color:red;">Hết hạn</div>';return t}(e.ocr.object.expire_warning))+'</div></div><div class="item"><div class="label-cus">Xác thực giấy tờ</div><div class="item-content">'+(n(e)||n(e.liveness_card_front)||n(e.liveness_card_back)?"":function(e,t){let i="";i=e||t?'<div style="color:red;">Không chụp trực tiếp</div>':'<div style="color:green;">Chụp trực tiếp</div>';return i}(e.liveness_card_front.object.fake_liveness,e.liveness_card_back.object.fake_liveness))+'</div></div><div class="item"><div class="label-cus">Cảnh báo trường thông tin</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":function(e){const t={id_sua_xoa:"Số ID bị sửa xóa",id_ko_hop_le:"Số ID không hợp lệ",id_dob_ko_khop:"Mã năm sinh không khớp",id_gender_ko_khop:"Mã giới tính không khớp",id_post_code_ko_khop:"Mã tỉnh/TP không khớp",invalid_dob:"Mã ngày sinh không hợp lệ",den_trang_ko_hop_le:"Giấy tờ photo",fake_printing:"Giấy tờ không hợp lệ",id_invalid_length:"Số ID không hợp lệ"};let i="",n=[],o=[];for(var c=0;c<e.length;c++)"id_ko_hop_le"==e[c]||"id_dob_ko_khop"==e[c]||"id_gender_ko_khop"==e[c]||"id_post_code_ko_khop"==e[c]||"invalid_dob"==e[c]?n.push(e[c]):o.push(e[c]);if(n.length>0)for(c=0;c<n.length;c++)i+='<div style="color:#ff7f00;">'+t[e[c]]+"</div>";else if(o.length>0)for(c=0;c<o.length;c++)i+='<div style="color:#ff7f00;">'+t[e[c]]+"</div>";else i='<div style="color:green;">Hợp lệ</div>';return i}(e.ocr.object.tampering.warning))+'</div></div><div class="item"><div class="label-cus">Dán đè ảnh</div><div class="item-content">'+(n(e)||n(e.liveness_card_front)||n(e.liveness_card_front.object)?"":function(e){let t="";t=e?'<div style="color:red;">Có</div>':'<div style="color:green;">Không</div>';return t}(e.liveness_card_front.object.face_swapping))+'</div></div><div class="item"><div class="label-cus">Mở mắt</div><div class="item-content">'+(n(e)||n(e.liveness_face)||n(e.liveness_face.object)?"":function(e){let t="";t="yes"==e?'<div style="color:green;">Có</div>':'<div style="color:red;">Không</div>';return t}(e.liveness_face.object.is_eye_open))+'</div></div><div class="item"><div class="label-cus">Mờ mặt</div><div class="item-content">'+(n(e)||n(e.liveness_face)||n(e.liveness_face.object)?"":function(e){let t="";t="no"==e?'<div style="color:green;">Không</div>':'<div style="color:red;">Có</div>';return t}(e.liveness_face.object.blur_face))+'</div></div><div class="item"><div class="label-cus">Xác thực chân dung</div><div class="item-content">'+(n(e)||n(e.liveness_face)||n(e.liveness_face.object)?"":function(e){let t="";t="success"==e?'<div style="color:green;">Người thật</div>':'<div style="color:red;">Không phải người thật</div>';return t}(e.liveness_face.object.liveness))+'</div></div><div class="item"><div class="label-cus">Mặt bị che</div><div class="item-content">'+(n(e)||n(e.masked)?"":function(e){let t="";t="yes"==e.masked?'<div style="color:red;">Có</div>':'<div style="color:green;">Không</div>';return t}(e.masked.object))+'</div></div></div></div><div id="qr-code" class="tab"><ul class="nav nav-tabs"><li id="info-tab2"><div>Thông tin cá nhân</div></li><li id="validation-tab2"><div>Validation</div></li><li id="qr-code-tab2" class="active"><div>QR Code</div></li></ul><div class="block-left"><div class="item"><div class="label-cus"><b>Thông tin QR</b></div></div><div class="result-qr-block"><span id="result-qr-data">'+(n(e)?"":e.qr_code)+'</span></div><div class="item"><span>Đối chiếu thông tin trên ảnh chụp giấy tờ</span></div><div class="item"><div class="label-cus">Số CMND</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":e.ocr.object.id)+'</div><img src="'+(n(e)||n(e.ocr)||n(e.ocr.object)?"https://ekyc-web.icenter.ai/img/fail.svg":t(e.ocr.object.id,e.qr_code))+'" width="20px" height="20px"></div><div class="item"><div class="label-cus">Họ và tên</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":e.ocr.object.name)+'</div><img src="'+(n(e)||n(e.ocr)||n(e.ocr.object)?"https://ekyc-web.icenter.ai/img/fail.svg":i(e.ocr.object.name,e.qr_code))+'" width="20px" height="20px"></div><div class="item"><div class="label-cus">Ngày sinh</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":e.ocr.object.birth_day)+'</div><img src="'+(n(e)||n(e.ocr)||n(e.ocr.object)?"https://ekyc-web.icenter.ai/img/fail.svg":o(e.ocr.object.birth_day,e.qr_code))+'" width="20px" height="20px"></div></div></div><div id="info" class="tab"><ul class="nav nav-tabs"><li id="info-tab1" class="active"><div>Thông tin cá nhân</div></li><li id="validation-tab1"><div>Validation</div></li><li id="qr-code-tab1"><div>QR Code</div></li></ul><div class="block-left"><div class="item"><div class="label-cus">Giấy tờ</div><div class="item-content">'+function(){let t='<div style="color:green;" class="check-info-doc">Hợp lệ</div>';n(e)?(t='<div style="color:red;" class="check-info-doc">Không hợp lệ</div>',console.log("data empty")):(n(e.ocr)||n(e.ocr.object)?(t='<div style="color:red;" class="check-info-doc">Không hợp lệ</div>',console.log("ocr || obj empty")):n(e.ocr.object.expire_warning)||"yes"==e.ocr.object.expire_warning&&(t='<div style="color:red;" class="check-info-doc">Không hợp lệ</div>',console.log("data.ocr.object.expire_warning")),n(e.liveness_card_front)||n(e.liveness_card_back)?(t='<div style="color:red;" class="check-info-doc">Không hợp lệ</div>',console.log("liveness_card_front || liveness_card_back")):(e.liveness_card_front.face_swapping&&(t='<div style="color:red;" class="check-info-doc">Không hợp lệ</div>',console.log("data.liveness_card_front.face_swapping")),e.liveness_card_front.fake_liveness&&(t='<div style="color:red;" class="check-info-doc">Không hợp lệ</div>',console.log("data.liveness_card_front.fake_liveness")),e.liveness_card_front.fake_print_photo&&(t='<div style="color:red;" class="check-info-doc">Không hợp lệ</div>',console.log("data.liveness_card_front.fake_print_photo")),e.liveness_card_back.face_swapping&&(t='<div style="color:red;" class="check-info-doc">Không hợp lệ</div>',console.log("data.liveness_card_back.face_swapping")),e.liveness_card_back.fake_liveness&&(t='<div style="color:red;" class="check-info-doc">Không hợp lệ</div>',console.log("data.liveness_card_back.face_swapping")),e.liveness_card_back.fake_print_photo&&(t='<div style="color:red;" class="check-info-doc">Không hợp lệ</div>',console.log("data.liveness_card_back.fake_print_photo"))));if(!(n(e)||n(e.ocr)||n(e.ocr.object)||n(e.ocr.object.warning_msg))){let n=e.ocr.object.warning_msg;t="";for(var i=0;i<n.length;i++)t+='<div style="color:#ff7f00;">'+n[i]+"</div>";console.log("data.ocr.object.warning",t)}return t}()+'</div></div><div class="item"><div class="label-cus">Số ID</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":e.ocr.object.id)+'</div></div><div class="item"><div class="label-cus">Họ và tên</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":e.ocr.object.name)+'</div></div><div class="item"><div class="label-cus">Ngày sinh</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":e.ocr.object.birth_day)+'</div></div><div class="item"><div class="label-cus">Nơi ĐKHK TT</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":e.ocr.object.recent_location)+'</div></div><div class="item"><div class="label-cus">Giới tính</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":e.ocr.object.gender)+'</div></div><div class="item"><div class="label-cus">Ngày cấp</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":e.ocr.object.issue_date)+'</div></div><div class="item"><div class="label-cus">Có giá trị đến</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":e.ocr.object.valid_date)+'</div></div><div class="item"><div class="label-cus">Nơi cấp</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)?"":e.ocr.object.issue_place)+'</div></div><div class="item"><div class="label-cus">So sánh</div><div class="item-content">'+(n(e)||n(e.compare)||n(e.compare.object)?'<div style="color: red;"> Không tìm thấy khuôn mặt </div>':function(e){let t="";t="NOMATCH"==e.msg?'<div style="color: red;">'+e.result+"</div>":'<div style="color: green;">'+e.result+"</div>";return t}(e.compare.object))+'</div></div><div class="item"><div class="label-cus">Nơi cấp</div><div class="item-content">'+(n(e)||n(e.ocr)||n(e.ocr.object)||t(e.ocr.object.id,e.qr_code)!==o(e.ocr.object.birth_day,e.qr_code)||o(e.ocr.object.birth_day,e.qr_code)!==i(e.ocr.object.name,e.qr_code)||"https://ekyc-web.icenter.ai/img/checked.svg"!==i(e.ocr.object.name,e.qr_code)?'<div style="color: red;"> OCR không khớp QR code </div>':'<div style="color: green;"> OCR khớp QR code </div>')+'</div></div></div></div></div><div class="images-block"><img class="image-result" src="'+(!n(e)&&!n(e.base64_doc_img)&&e.base64_doc_img.img_front)+'"/><img class="image-result" src="'+(!n(e)&&!n(e.base64_doc_img)&&e.base64_doc_img.img_back)+'"/><img class="image-result" src="'+(!n(e)&&!n(e.base64_face_img)&&e.base64_face_img.img_face_far)+'"/><img class="image-result" src="'+(!n(e)&&!n(e.base64_face_img)&&e.base64_face_img.img_face_near)+'"/></div></div><div class="btn-redemo" id="btn-redemo"><img src="https://ekyc-web.icenter.ai/images/refresh_icon.png" style="width: 20px; height: 20px; margin-right: 5px"/><span>THỰC HIỆN LẠI</span></div></div>';c.insertAdjacentHTML("beforeend",s),document.getElementById("btn-redemo").addEventListener("click",(function(){location.reload()})),function(){let e=document.getElementById("validation"),t=document.getElementById("info"),i=document.getElementById("qr-code");document.getElementById("info-tab").addEventListener("click",(function(){e.style.display="none",t.style.display="block",i.style.display="none"})),document.getElementById("info-tab1").addEventListener("click",(function(){e.style.display="none",t.style.display="block",i.style.display="none"})),document.getElementById("info-tab2").addEventListener("click",(function(){e.style.display="none",t.style.display="block",i.style.display="none"})),document.getElementById("validation-tab").addEventListener("click",(function(){e.style.display="block",t.style.display="none",i.style.display="none"})),document.getElementById("validation-tab1").addEventListener("click",(function(){e.style.display="block",t.style.display="none",i.style.display="none"})),document.getElementById("validation-tab2").addEventListener("click",(function(){e.style.display="block",t.style.display="none",i.style.display="none"})),document.getElementById("qr-code-tab").addEventListener("click",(function(){e.style.display="none",t.style.display="none",i.style.display="block"})),document.getElementById("qr-code-tab1").addEventListener("click",(function(){e.style.display="none",t.style.display="none",i.style.display="block"})),document.getElementById("qr-code-tab2").addEventListener("click",(function(){e.style.display="none",t.style.display="none",i.style.display="block"}))}()}()}function P(e,t,i,c){var s="https://ekyc-web.icenter.ai",l=document.getElementById("vnpt_ekyc"),d="<div class='step1-demo-ekyc front_back_ekyc' id='step1-demo-ekyc'><ul class='progressbar' id='progressbar'><div class='header-title' id='header-title-qr'><var>FRONT.QR</var></div><div class='header-title' id='header-title-front'><var>FRONT.FRONT</var></div><div class='header-title' id='header-title-back'><var>FRONT.BACK</var></div></ul>"+function(){var e="";t.SHOW_HELP&&(e="<img id='tutorial_btn' class='tutorial_btn' src='"+s+"/images/tutorial_btn.png'></img>");return e}()+_(t.USE_WEBCAM,t.USE_UPLOAD,J)+(t.USE_WEBCAM,t.USE_UPLOAD,"<div id='container'><div class='video-block-qr' id='video-block-qr'><canvas id='canvas-qr'></canvas></div><div id='output'><div id='result-qr' ><img id='state-qr-icon' src=''></img><div id='state-qr-text'></div><span id='outputData'></span><span id='outputData2'></span><div class='btn-accept' id='qr-accept'>ĐỒNG Ý</div></div></div></div>")+E("QR",t.USE_WEBCAM,t.USE_UPLOAD)+E("DOCUMENT",t.USE_WEBCAM,t.USE_UPLOAD)+g(t.USE_WEBCAM,t.USE_UPLOAD)+"<div class='step1-after-capture' id='step1-after-capture'><div class='re-capture' id='step1-re-capture'><img id='step1-re-capture-icon' class='camera-icon' src='"+s+"/images/capture_icon_b.png'></img><span id='step1-re-capture-title'><var>FACE.TAKE_AGAIN</var></span></div><div class='next-step' id='step1-next-step'><img id='step1-next-step-icon' class='next-icon' src='"+s+"/images/next_icon_b.png'></img><span id='step1-next-step-title'><var>FACE.NEXT</var></span></div></div><div class='ekyc-popup' id='ekyc-popup-1'><div class='pu-header'><img class='close-btn' id='close-pop-1' width='32px' height='32px' src='"+s+"/images/remove_icon.png' /><div class='icons'><img class='main-icons' src='"+s+"/images/touch_cmt.png' /></div><div class='content' id='header-title-pop'><var>FRONT.GUIDE_1</var></div></div><div class='pu-body'><ul><li><var>FRONT.GUIDE_2</var></li><li><var>FRONT.GUIDE_3</var></li></ul></div><div class='pu-footer'><div class='text-center'><img class='main-icons' src='"+s+"/img/notice_1.png'/><p><var>NOTICE.NOTICE_1</var></p></div><div class='text-center'><img class='main-icons' src='"+s+"/img/notice_2.png'/><p><var>NOTICE.NOTICE_2</var></p></div><div class='text-center'><img class='main-icons' src='"+s+"/img/notice_3.png'/><p><var>NOTICE.NOTICE_3</var></p></div></div></div><div class='ekyc-popup' id='ekyc-popup-2'><div class='pu-header'><img class='close-btn' id='close-pop-2' width='32px' height='32px' src='"+s+"/images/remove_icon.png' /><div class='icons'><img id='popup2-icon-header' class='main-icons' src='"+s+"/images/portrait_icon.png' /></div><div class='content' id='popup2-title-header'><var>FACE.GUIDE_1</var></div></div><div class='pu-body'><ul><li><var>FACE.GUIDE_2</var></li><li><var>FACE.GUIDE_3</var></li><li><var>FACE.GUIDE_4</var></li></ul></div><div class='pu-footer'><div class='text-center'><img id='popup2-icon-warning1' class='main-icons' src='"+s+"/img/notice_face_1.png'/><p><var>NOTICE.NOTICE_1</var></p></div><div class='text-center'><img id='popup2-icon-warning2' class='main-icons' src='"+s+"/img/notice_face_2.png'/><p><var>NOTICE.NOTICE_2</var></p></div><div class='text-center'><img id='popup2-icon-warning3' class='main-icons' src='"+s+"/img/notice_face_3.png'/><p><var>NOTICE.NOTICE_3</var></p></div></div></div><div id='dropZone' class='id-card'><div class='capture-btn-wrapper'><img id='img-capture-mobile' class='img-capture-mobile' src='"+s+"/images/capure_mobile.png'></img><input id='fileInputMobile' type='file' accept='image/*' capture='environment'><div id='title-capture-mobile' class='title-capture-mobile'><var>FACE.TOUCH</var></div></div></div><div class='preview' id='previewZone'><img id='preview-img' src='' alt='preview' /></div><div class='ekyc_description' id='ekyc_description_mobile1' ><span><var>FACE.PLEASE</var></span><br/><span><var>FACE.GUIDE_5</var></span><br/><span> <var>FACE.GUIDE_6</var></span></div><div class='ekyc_description' id='ekyc_description_mobile2'><span><var>FACE.PLEASE</var></span><br/><span><var>FACE.GUIDE_7</var> </span><br/><span><var>FACE.GUIDE_8</var></span></div><div class='mobile-after-capture' id='mobile-after-capture'><div class='upload-btn-wrapper'><button class='btn-active' id='mobile-recapture'><img id='mobile-recapture-icon' class='camera-icon' src='"+s+"/images/capture_icon_b.png'></img><span id='mobile-recapture-title'><var>FACE.TAKE_AGAIN</var></span></button><input id='fileInputMobile1' type='file' accept='image/*' capture='environment'></div><div class='next-step' id='upload-next-step'><img id='upload-next-step-icon' class='next-icon' src='"+s+"/images/next_icon_b.png'></img><span id='upload-next-step-title'><var>FACE.NEXT</var></span></div><div class='next-step' id='mobile-next-step'><img id='mobile-next-step-icon' class='next-icon' src='"+s+"/images/next_icon_b.png'></img><span id='mobile-next-step-title'><var>FACE.NEXT</var></span></div></div><div class='tutorial-mobile'><a id='tutorial-mobile'><var>FACE.GUIDE</var></a></div></div>";l.insertAdjacentHTML("beforeend",d);var a=document.getElementById("video-block"),v=document.getElementById("tutorial_btn"),u=0,b={},T={},C=document.getElementById("take-picture-step1"),A=document.getElementById("ekyc_description"),S=document.getElementById("webcame-zone"),w=document.getElementById("ekyc_description2"),O=document.getElementById("ekyc_description3"),x=document.getElementById("take-picture-step1-title"),N=document.getElementById("take-picture-step1-img"),M=document.getElementById("dropZone"),j=document.getElementById("dropZoneWeb"),U=[],R=document.getElementById("ekyc-popup-1"),F=document.getElementById("ekyc-popup-2"),D=document.getElementById("ekyc_description_mobile1"),H=document.getElementById("ekyc_description_mobile2"),G=document.getElementById("tutorial-mobile"),P=document.getElementById("result-qr"),Y=!1,K={type_document:e},W={};var q=null;function J(e){e&&U.push(e)}function Z(i,n){var c={};c.currentHash=i.object.hash,c.dataImage=n,c.typeDocument=e,1===u&&(b.hashFront=i.object.hash,T.hash0=i.object.hash,c.dataHash=b,t.CHECK_LIVENESS_CARD?k(c,$,ee,t):V()),2===u&&(b.hashBack=i.object.hash,T.hash1=i.object.hash,c.dataHash=b,K.data_hash_document=T,t.CHECK_LIVENESS_CARD?k(c,$,ee,t):V(),function(e,t,i,n){try{var c=(n.BACKEND_URL.length>0?n.BACKEND_URL:f)+"ai/v2/web/ocr/id",s={img_front:e.dataHash.hashFront,img_back:e.dataHash.hashBack,client_session:"9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",token:"e41-1b6d-45c9-9",type:e.typeDocument,crop_param:"",validate_postcode:!0,optimizer:e.dataImage.optimizer};o(c,{key:"Content-Type",value:"application/json"},JSON.stringify(s),e=>{t(JSON.parse(e))},e=>{i(e)},n)}catch(e){console.log("ocrOneSideWebErr",e)}}(c,ne,oe,t))}function V(){r(),document.getElementById("step1-demo-ekyc").style.display="block"}function z(i,n){var o={};o.currentHash=i.object.hash,o.dataImage=n,o.typeDocument=e,b["hash"+(u-1)]=i.object.hash,o.dataHash=b,1===u&&(t.CHECK_LIVENESS_CARD?B(o,te,ie,t):V()),2===u&&(K.data_hash_document=b,t.CHECK_LIVENESS_CARD?B(o,te,ie,t):V(),L(o,ce,se,t))}function Q(e){console.log("mobileUploadFileFail",e),V()}function X(e){console.log("uploadFileFail",e),V()}function $(e){1===u&&(K.liveness_card_front=e),2===u&&(K.liveness_card_back=e),V()}function ee(e){1===u?K.liveness_card_front=JSON.parse(e):K.liveness_card_back=JSON.parse(e),V()}function te(e){1===u?K.liveness_card_front=e:K.liveness_card_back=e,V()}function ie(e){1===u?K.liveness_card_front=JSON.parse(e):K.liveness_card_back=JSON.parse(e),V()}function ne(e){K.ocr=e}function oe(e){K.ocr=JSON.parse(e)}function ce(e){K.ocr=e}function se(e){K.ocr=JSON.parse(e)}function le(){let e="";document.getElementById("canvas-border").remove(),e="<div id='canvas-border'><canvas id='canvas' style='overflow:auto; display:none'></canvas></div>",S&&S.insertAdjacentHTML("beforeend","<div id='canvas-border'><canvas id='canvas' style='overflow:auto; display:none'></canvas></div>"),document.getElementById("canvas-border").style.display="none"}function de(e){var t=document.getElementById("header-title-qr"),i=document.getElementById("header-title-front"),n=document.getElementById("header-title-back"),o=document.getElementById("ekyc_description3");1===e&&(t.style.display="none",i.style.display="block",n.style.display="none",o&&(o.style.display="none")),2===e&&(t.style.display="none",i.style.display="none",n.style.display="block")}C&&C.addEventListener("click",(function(){let e=y(),i=document.getElementById("canvas-border");v&&(v.style.display="none"),canvas.style.display="block",i.style.display="block",a.style.display="none",this.style.display="none",document.getElementById("step1-after-capture").style.display="flex",I(e,Z,X,t),1===u&&(W.img_front=e.image_base64),2===u&&(W.img_back=e.image_base64),K.base64_doc_img=W,p()})),document.getElementById("fileInputMobile").onchange=function(e){let i=new FileReader,n=this.files[0];i.onloadend=e=>{if(n){var o={};o.file=n,I(o,z,Q,t),1===u&&(W.img_front=e.target.result),2===u&&(W.img_back=e.target.result),K.base64_doc_img=W,p()}document.getElementById("dropZone").style.display="none",document.getElementById("previewZone").style.display="block",document.getElementById("preview-img").src=i.result,document.getElementById("mobile-after-capture").style.display="flex",D.style.display="none",H.style.display="none",G.style.display="none",document.getElementById("upload-next-step").style.display="none"},i.readAsDataURL(n)},document.getElementById("fileInputMobile1").onchange=function(e){let i=new FileReader,n=this.files[0];i.onloadend=e=>{if(n){var o={};o.file=n,I(o,z,Q,t),1===u&&(W.img_front=e.target.result),2===u&&(W.img_back=e.target.result),3===u&&(W.img_face=e.target.result),K.base64_doc_img=W,p()}document.getElementById("dropZone").style.display="none",document.getElementById("previewZone").style.display="block",document.getElementById("preview-img").src=i.result,document.getElementById("mobile-after-capture").style.display="flex",D.style.display="none",H.style.display="none",G.style.display="none"},i.readAsDataURL(n)},document.getElementById("fileInputWeb")&&(document.getElementById("fileInputWeb").onchange=function(e){document.getElementById("dropZoneWeb").style.display="none";let i=new FileReader,n=this.files[0];i.onloadend=e=>{if(n){var o={};o.file=n,I(o,z,Q,t),1===u&&(W.img_front=e.target.result),2===u&&(W.img_back=e.target.result),K.base64_doc_img=W,p()}document.getElementById("dropZone").style.display="none",document.getElementById("previewZone").style.display="block",document.getElementById("preview-img").src=i.result,document.getElementById("mobile-after-capture").style.display="flex",A&&(A.style.display="none"),w&&(w.style.display="none"),G.style.display="none",document.getElementById("mobile-next-step").style.display="none"},i.readAsDataURL(n)}),document.getElementById("step1-re-capture").addEventListener("click",(function(){document.getElementById("step1-after-capture").style.display="none",a.style.display="block",C&&(C.style.display="flex"),v&&(v.style.display="block"),le(),console.log("step",u),u<3?A&&(A.style.display="block"):w&&(w.style.display="block")})),document.querySelector("#qr-accept")&&(document.querySelector("#qr-accept").onclick=function(e){var i=window.screen.width<window.outerWidth?window.screen.width:window.outerWidth;Y?i>=1024?(u++,document.querySelector("#output").style.display="none",document.querySelector("#video-block-qr").style.display="none",document.querySelector("#canvas-qr").style.display="none",C&&(C.style.display="flex"),de(u),A&&(A.style.display="block"),t.SHOW_HELP?(R&&(R.style.display="block"),S&&(S.style.display="none"),j&&(j.style.display="none"),A&&(A.style.display="none"),C&&(C.style.display="none")):(R&&(R.style.display="none"),S&&(S.style.display="block"),j&&(j.style.display="block"),A&&(A.style.display="block"),C&&(C.style.display="flex"))):(u++,document.querySelector("#output").style.display="none",document.querySelector("#video-block-qr").style.display="none",document.querySelector("#canvas-qr").style.display="none",D.style.display="block",G.style.display="none",de(u),document.getElementById("dropZone").style.display="block",t.SHOW_HELP?(R&&(R.style.display="block"),M&&(M.style.display="none"),D&&(D.style.display="none")):(R&&(R.style.display="none"),M&&(M.style.display="block"),D&&(D.style.display="block"))):(document.querySelector("#result-qr").style.display="none",document.querySelector("#canvas-qr").style.display="block",document.querySelector("#video-block-qr").style.display="block",O&&(O.style.display="block"))}),document.getElementById("step1-next-step").addEventListener("click",(function(){++u<4&&(de(u),document.getElementById("step1-after-capture").style.display="none",a.style.display="block",C&&(C.style.display="flex"),A.style.display="block",v&&(v.style.display="block"),le()),3===u&&(p(),h(U),setTimeout((function(){localStorage.setItem("dat_doc",JSON.stringify(K.data_hash_document)),r(),i(K),c&&c(K)}),3e3))})),document.getElementById("mobile-next-step").onclick=function(){de(++u),u<3&&(D.style.display="block",document.getElementById("dropZone").style.display="block",document.getElementById("previewZone").style.display="none",document.getElementById("mobile-after-capture").style.display="none",t.SHOW_HELP?G.style.display="block":G.style.display="none"),3===u&&(p(),setTimeout((function(){localStorage.setItem("dat_doc",JSON.stringify(K.data_hash_document)),r(),i(K),c&&c(K)}),3e3))},document.getElementById("upload-next-step").onclick=function(){de(++u),document.getElementById("fileInputWeb").value=null,u<3?(document.getElementById("previewZone").style.display="none",document.getElementById("mobile-after-capture").style.display="none",document.getElementById("dropZoneWeb").style.display="block"):(p(),setTimeout((function(){localStorage.setItem("dat_doc",JSON.stringify(K.data_hash_document)),r(),i(K),c&&c(K)}),3e3))},document.getElementById("close-pop-1").onclick=function(){(window.screen.width<window.outerWidth?window.screen.width:window.outerWidth)<=1024?(document.getElementById("ekyc-popup-1").style.display="none",document.getElementById("dropZone").style.display="block",document.getElementById("ekyc_description_mobile1").style.display="block",G.style.display="block",A&&(A.style.display="none")):(S&&(S.style.display="block"),document.getElementById("ekyc-popup-1").style.display="none",C&&(C.style.display="flex"),A&&(A.style.display="block"),v&&(v.style.display="block"),j&&(j.style.display="block"))},document.getElementById("close-pop-2").onclick=function(){(window.screen.width<window.outerWidth?window.screen.width:window.outerWidth)<=1024?(F.style.display="none",document.getElementById("dropZone").style.display="block",G.style.display="block",A&&(A.style.display="none"),2===u?document.getElementById("ekyc_description_mobile2").style.display="block":document.getElementById("ekyc_description_mobile1").style.display="block"):(S&&(S.style.display="block"),F.style.display="none",C&&(C.style.display="flex"),v&&(v.style.display="block"),j&&(j.style.display="block"),2===u?w&&(w.style.display="block"):A&&(A.style.display="block"))},v&&(v.onclick=function(){S&&(S.style.display="none"),C&&(C.style.display="none"),A&&(A.style.display="none"),w&&(w.style.display="none"),v&&(v.style.display="none"),j&&(j.style.display="none"),2===u?F.style.display="block":R.style.display="block"}),G.onclick=function(){2===u?(F.style.display="block",document.getElementById("dropZone").style.display="none",document.getElementById("ekyc_description_mobile2").style.display="none",G.style.display="none"):(document.getElementById("ekyc-popup-1").style.display="block",document.getElementById("dropZone").style.display="none",document.getElementById("ekyc_description_mobile1").style.display="none",G.style.display="none")},document.getElementById("header-title-front").style.display="none",document.getElementById("header-title-back").style.display="none",j&&(j.style.display="none"),document.getElementById("step1-after-capture").style.display="none",A&&(A.style.display="none"),S&&(S.style.display="none"),w&&(w.style.display="none"),O&&(O.style.display="block"),C&&(C.style.display="none"),R&&(R.style.display="none"),F&&(F.style.display="none"),P&&(P.style.display="none"),document.getElementById("dropZone").style.display="none",D.style.display="none",G.style.display="none",n(t.CAPTURE_IMAGE_STYLE)||(document.getElementById("ekyc_sdk_intergrated").style.background=t.LIST_CHOOSE_STYLE.background,document.getElementById("ekyc-popup-1").style.boxShadow=t.CAPTURE_IMAGE_STYLE.popup1_box_shadow,document.getElementById("header-title-pop").style.color=t.CAPTURE_IMAGE_STYLE.popup1_title_color,A&&(A.style.color=t.CAPTURE_IMAGE_STYLE.description1_color),C&&(C.style.background=t.CAPTURE_IMAGE_STYLE.capture_btn_background),x&&(x.style.color=t.CAPTURE_IMAGE_STYLE.capture_btn_color),N&&(N.src=t.CAPTURE_IMAGE_STYLE.capture_btn_icon),v&&(v.src=t.CAPTURE_IMAGE_STYLE.tutorial_btn_icon),document.getElementById("step1-re-capture").style.background=t.CAPTURE_IMAGE_STYLE.recapture_btn_background,document.getElementById("step1-re-capture").style.border=t.CAPTURE_IMAGE_STYLE.recapture_btn_border,document.getElementById("step1-re-capture-icon").src=t.CAPTURE_IMAGE_STYLE.recapture_btn_icon,document.getElementById("step1-re-capture-title").style.color=t.CAPTURE_IMAGE_STYLE.recapture_btn_color,document.getElementById("step1-next-step-icon").src=t.CAPTURE_IMAGE_STYLE.recapture_btn_icon,document.getElementById("step1-next-step-title").style.color=t.CAPTURE_IMAGE_STYLE.nextstep_btn_color,document.getElementById("step1-next-step").style.background=t.CAPTURE_IMAGE_STYLE.nextstep_btn_background,F.style.boxShadow=t.CAPTURE_IMAGE_STYLE.popup2_box_shadow,document.getElementById("popup2-title-header").style.color=t.CAPTURE_IMAGE_STYLE.popup2_title_header_color,document.getElementById("popup2-icon-header").src=t.CAPTURE_IMAGE_STYLE.popup2_icon_header,t.CAPTURE_IMAGE_STYLE.popup2_icon_warning1&&(document.getElementById("popup2-icon-warning1").src=t.CAPTURE_IMAGE_STYLE.popup2_icon_warning1),t.CAPTURE_IMAGE_STYLE.popup2_icon_warning2&&(document.getElementById("popup2-icon-warning2").src=t.CAPTURE_IMAGE_STYLE.popup2_icon_warning2),t.CAPTURE_IMAGE_STYLE.popup2_icon_warning3&&(document.getElementById("popup2-icon-warning3").src=t.CAPTURE_IMAGE_STYLE.popup2_icon_warning3)),n(t.MOBILE_STYLE)||(document.getElementById("img-capture-mobile").src=t.MOBILE_STYLE.mobile_capture_btn,document.getElementById("title-capture-mobile").style.color=t.MOBILE_STYLE.mobile_capture_desc_color,G.style.color=t.MOBILE_STYLE.mobile_tutorial_color,document.getElementById("mobile-recapture").style.background=t.MOBILE_STYLE.mobile_recapture_btn_background,document.getElementById("mobile-recapture").style.border=t.MOBILE_STYLE.mobile_recapture_btn_border,document.getElementById("mobile-recapture-icon").src=t.MOBILE_STYLE.mobile_recapture_btn_icon,document.getElementById("mobile-recapture-title").style.color=t.MOBILE_STYLE.mobile_recapture_btn_color,document.getElementById("mobile-next-step").style.background=t.MOBILE_STYLE.mobile_nextstep_btn_background,document.getElementById("mobile-next-step-icon").src=t.MOBILE_STYLE.mobile_nextstep_btn_icon,document.getElementById("mobile-next-step-title").style.color=t.MOBILE_STYLE.mobile_nextstep_btn_color),t.SHOW_HELP?j&&(j.style.display="none"):(window.screen.width<window.outerWidth?window.screen.width:window.outerWidth)<=1024?(document.getElementById("ekyc-popup-1").style.display="none",D.style.display="none",A&&(A.style.display="none"),j&&(j.style.display="none"),G&&(G.style.display="none")):(S&&(S.style.display="none"),C&&(C.style.display="none"),A&&(A.style.display="none"),O&&(O.style.display="block"),v&&(v.style.display="block")),function(){var e=document.getElementById("video-block-qr"),t=document.createElement("video"),i=document.getElementById("canvas-qr"),n=i.getContext("2d"),o=(document.getElementById("output"),document.getElementById("outputData")),c=document.getElementById("outputData2"),s=document.getElementById("result-qr");function l(e,t,i){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.lineWidth=4,n.strokeStyle=i,n.stroke()}navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then((function(e){t.srcObject=e,J(e),q=e,t.setAttribute("playsinline",!0),t.play(),requestAnimationFrame(r)}));var d="",a=[];function r(){if(t.readyState===t.HAVE_ENOUGH_DATA){i.height=t.videoHeight,i.width=t.videoWidth,n.drawImage(t,0,0,i.width,i.height);var m=n.getImageData(0,0,i.width,i.height),v=jsQR(m.data,m.width,m.height,{inversionAttempts:"dontInvert"});v&&(l(v.location.topLeftCorner,v.location.topRightCorner,"#FF3B58"),l(v.location.topRightCorner,v.location.bottomRightCorner,"#FF3B58"),l(v.location.bottomRightCorner,v.location.bottomLeftCorner,"#FF3B58"),l(v.location.bottomLeftCorner,v.location.topLeftCorner,"#FF3B58"),v.data&&(d=v.data,a=d.split("|"),O&&(O.style.display="none"),7===a.length&&12===a[0].length&&/^\d+$/.test(a[0])&&8===a[a.length-1].length&&/^\d+$/.test(a[a.length-1])?(s.style.display="block",i.style.display="none",D.style.display="none",e.style.display="none",document.getElementById("state-qr-icon").src="https://ekyc-web.icenter.ai/img/success.svg",document.getElementById("state-qr-text").innerText="Nội dung",o.innerText=d,c.innerText="",Y=!0,K.qr_code=d,h([q])):p()))}requestAnimationFrame(r)}function p(){s.style.display="block",i.style.display="none",D.style.display="none",e.style.display="none",document.getElementById("state-qr-icon").src="https://ekyc-web.icenter.ai/img/fail.svg",document.getElementById("state-qr-text").innerText="Thông báo",o.innerText="Thông tin QR không hợp lệ!",c.innerText="Vui lòng quét QR code trên CCCD.",Y=!1}}();m(document.getElementsByClassName("front_back_ekyc")[0].getElementsByTagName("var"),t.LANGUAGE)}function Y(e,t,i,n){var o=document.getElementById("vnpt_ekyc"),c=!0,s="<div class='choose-version' id='choose-version'><div class='title'><div class='big'><var>CHOOSE_VERSION_QR.CHOOSE_VERSION</var></div><div class='small'><var>CHOOSE_VERSION_QR.VERSION_FOR_YOU</var></div></div><div class='list-choose-version'><div class='item' id='standard-version'><div class='title'><var>CHOOSE_VERSION_QR.STANDARD_VERSION</var></div><ul class='standard-vesion__description'><li><var>CHOOSE_VERSION_QR.USE_QRCODE</var></li></ul></div></div><div class='is-qr-code'><div class='title'><var>CHOOSE_VERSION_QR.IS_QRCODE_SCAN</var></div><input type='checkbox' id='switch' class='switch-input' checked='"+c+"'/><label for='switch' class='switch'></label></div></div>";o.insertAdjacentHTML("beforeend",s);const l=document.getElementById("choose-version");if(l){m(l.getElementsByTagName("var"),t.LANGUAGE)}document.getElementById("switch").onclick=function(e){c=!!this.checked},document.getElementById("standard-version").onclick=function(o){document.getElementById("choose-version").style.display="none",c?P(e,t,i,n):H(e,t,i,n)}}function K(e,t,i){!function(e,t,i){!function(){localStorage.removeItem("v_ekyc_actk"),localStorage.removeItem("gg-tk");var o=document.createElement("script");o.id="recapcha_v2_id",o.src="https://www.google.com/recaptcha/api.js?onload=loadCaptcha&render=explicit",o.async=!0,o.defe=!0;var c=document.createElement("script");c.id="piexif_id",c.src="https://cdn.jsdelivr.net/npm/piexifjs@1.0.6/piexif.js",c.async=!0,c.defe=!0;var s=document.createElement("script");s.id="crypto_id",s.src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js",s.async=!0,s.defe=!0,document.head.appendChild(c),document.head.appendChild(s);var l=function(){const t=e.LIST_ITEM;let i="<div id='vnpt_ekyc'>";i+="<div class='home-demo-ekyc' id='home-demo-ekyc'>",i+="<div class='title'> <var>HOME.TITLE</var> </div>",i+="<div class='list-choose'>";for(let e of t)-1==e&&(i+="<div class='item' id='verification-id' ><div class='icon-block'><img id='id-icon' src=''/></div><span class='title'><var>HOME.CMT</var></span></div>"),5==e&&(i+="<div class='item' id='verification-passport' > <div class='icon-block'><img id='passport-icon' src=''/></div><span class='title'><var>HOME.PASSPOST</var></span></div>"),7==e&&(i+="<div class='item' id='verification-army-id' ><div class='icon-block'><img id='army-id-icon' src=''/></div><span class='title'><var>HOME.CMT_ARMY</var></span></div>"),6==e&&(i+="<div class='item' id='verification-card-drive'><div class='icon-block'><img id='card-drive-icon' src=''/></div><span class='title'><var>HOME.LICENSE</var></span></div>"),9==e&&(i+="<div class='item' id='id-card-chip'><div class='icon-block'><img id='id-chip-icon' src=''/></div><span class='title'><var>HOME.CMT_CHIP</var></span></div>");return i+=(e.ENABLE_GGCAPCHAR,""),i+="<div class='start-demo' id='start-demo-ekyc' tabindex='6'>",i+="<span class='label-cus'><var>HOME.START</var></span>",i+="</div></div></div></div>",i}();if(!document.getElementById("vnpt_ekyc")){var d=document.getElementById(e.PARRENT_ID);-1===e.TYPE_DOCUMENT?(d.insertAdjacentHTML("beforeend","<div id='vnpt_ekyc'></div>"),"DOCUMENT"===e.FLOW_TYPE?H(-1,e,t,i):"FACE"===e.FLOW_TYPE&&(e.ADVANCE_LIVENESS_FACE?D(-1,e,t,i):F(-1,e,t,i))):7===e.TYPE_DOCUMENT?(d.insertAdjacentHTML("beforeend","<div id='vnpt_ekyc'></div>"),"DOCUMENT"===e.FLOW_TYPE?H(7,e,t,i):"FACE"===e.FLOW_TYPE&&(e.ADVANCE_LIVENESS_FACE?D(7,e,t,i):F(7,e,t,i))):5===e.TYPE_DOCUMENT?(d.insertAdjacentHTML("beforeend","<div id='vnpt_ekyc'></div>"),"DOCUMENT"===e.FLOW_TYPE?R(5,e,t,i):"FACE"===e.FLOW_TYPE&&(e.ADVANCE_LIVENESS_FACE?D(5,e,t,i):F(5,e,t,i))):6===e.TYPE_DOCUMENT?(d.insertAdjacentHTML("beforeend","<div id='vnpt_ekyc'></div>"),"DOCUMENT"===e.FLOW_TYPE?R(6,e,t,i):"FACE"===e.FLOW_TYPE&&(e.ADVANCE_LIVENESS_FACE?D(6,e,t,i):F(6,e,t,i))):9===e.TYPE_DOCUMENT?(d.insertAdjacentHTML("beforeend","<div id='vnpt_ekyc'></div>"),"DOCUMENT"===e.FLOW_TYPE?Y(9,e,t,i):"FACE"===e.FLOW_TYPE&&(e.ADVANCE_LIVENESS_FACE?D(9,e,t,i):F(9,e,t,i))):((d=document.getElementById(e.PARRENT_ID)).insertAdjacentHTML("beforeend",l),n(e.LIST_CHOOSE_STYLE)||function(){document.getElementById("ekyc_sdk_intergrated").style.background=e.LIST_CHOOSE_STYLE.background,document.getElementById("id-icon")&&(document.getElementById("id-icon").src=e.LIST_CHOOSE_STYLE.id_icon),document.getElementById("passport-icon")&&(document.getElementById("passport-icon").src=e.LIST_CHOOSE_STYLE.passport_icon),document.getElementById("card-drive-icon")&&(document.getElementById("card-drive-icon").src=e.LIST_CHOOSE_STYLE.drivecard_icon),document.getElementById("army-id-icon")&&(document.getElementById("army-id-icon").src=e.LIST_CHOOSE_STYLE.army_id_icon),document.getElementById("id-chip-icon")&&(document.getElementById("id-chip-icon").src=e.LIST_CHOOSE_STYLE.id_chip_icon),document.getElementById("start-demo-ekyc").style.background=e.LIST_CHOOSE_STYLE.start_button_background,document.getElementById("start-demo-ekyc").style.color=e.LIST_CHOOSE_STYLE.start_button_color;for(var t=document.getElementsByClassName("icon-block"),i=0;i<t.length;i++)t[i].style.background=e.LIST_CHOOSE_STYLE.background_icon}())}var a="",r=null;function p(t,i){a=t.id;let n=t.querySelectorAll(".title")[0];t.querySelectorAll(".checkbox")[0],t.style.background=e.LIST_CHOOSE_STYLE.item_active_color,n.style.color="#FFFFFF",r=i}function m(t,i){let n=document.getElementById(a),o=n.querySelectorAll(".title")[0];n.style.background="#FFFFFF",o.style.color="#111127";let c=t.querySelectorAll(".title")[0];t.style.background=e.LIST_CHOOSE_STYLE.item_active_color,c.style.color="#FFFFFF",a=t.id,r=i}document.getElementById("verification-id")&&document.getElementById("verification-id").addEventListener("click",(function(){n(a)&&p(this,-1),a!=this.id&&m(this,-1)})),document.getElementById("verification-passport")&&document.getElementById("verification-passport").addEventListener("click",(function(){n(a)&&p(this,5),a!=this.id&&m(this,5)})),document.getElementById("verification-army-id")&&document.getElementById("verification-army-id").addEventListener("click",(function(){n(a)&&p(this,7),a!=this.id&&m(this,7)})),document.getElementById("verification-card-drive")&&document.getElementById("verification-card-drive").addEventListener("click",(function(){n(a)&&p(this,6),a!=this.id&&m(this,6)})),document.getElementById("id-card-chip")&&document.getElementById("id-card-chip").addEventListener("click",(function(){n(a)&&p(this,9),a!=this.id&&m(this,9)})),document.getElementById("start-demo-ekyc")&&document.getElementById("start-demo-ekyc").addEventListener("click",(function(){n(a)?alert("Bạn phải chọn loại giấy tờ trước khi tiếp tục"):(document.getElementById("home-demo-ekyc").style.display="none",5!=r&&6!=r||("DOCUMENT"===e.FLOW_TYPE?R(r,e,t,i):"FACE"===e.FLOW_TYPE&&(e.ADVANCE_LIVENESS_FACE?D(r,e,t,i):F(r,e,t,i))),-1!=r&&7!=r||("DOCUMENT"===e.FLOW_TYPE?H(r,e,t,i):"FACE"===e.FLOW_TYPE&&(e.ADVANCE_LIVENESS_FACE?D(r,e,t,i):F(r,e,t,i))),9==r&&("DOCUMENT"===e.FLOW_TYPE?Y(r,e,t,i):"FACE"===e.FLOW_TYPE&&(e.ADVANCE_LIVENESS_FACE?D(r,e,t,i):F(r,e,t,i))))}))}();const o=document.getElementById("home-demo-ekyc");o&&m(o.getElementsByTagName("var"),e.LANGUAGE)}(e,t,i)}function W(e){return null!==localStorage.getItem(e)&&(localStorage.removeItem(e),!0)}function q(e,t,i){let n=document.getElementById("vnpt_ekyc");n&&n.parentNode.removeChild(n),K(e,t,i)}function J(e,t){9===e&&G(t),-1!==e&&7!==e||j(t),5!=e&&6!==e||U(t)}}]);